!function(modules){function webpackJsonpCallback(data){for(var moduleId,chunkId,chunkIds=data[0],moreModules=data[1],executeModules=data[2],i=0,resolves=[];i<chunkIds.length;i++)chunkId=chunkIds[i],Object.prototype.hasOwnProperty.call(installedChunks,chunkId)&&installedChunks[chunkId]&&resolves.push(installedChunks[chunkId][0]),installedChunks[chunkId]=0;for(moduleId in moreModules)Object.prototype.hasOwnProperty.call(moreModules,moduleId)&&(modules[moduleId]=moreModules[moduleId]);for(parentJsonpFunction&&parentJsonpFunction(data);resolves.length;)resolves.shift()();return deferredModules.push.apply(deferredModules,executeModules||[]),checkDeferredModules()}function checkDeferredModules(){for(var result,i=0;i<deferredModules.length;i++){for(var deferredModule=deferredModules[i],fulfilled=!0,j=1;j<deferredModule.length;j++){var depId=deferredModule[j];0!==installedChunks[depId]&&(fulfilled=!1)}fulfilled&&(deferredModules.splice(i--,1),result=__webpack_require__(__webpack_require__.s=deferredModule[0]))}return result}var installedModules={},installedChunks={2:0},deferredModules=[];function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module.default}:function getModuleExports(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="/";var jsonpArray=window.webpackJsonp=window.webpackJsonp||[],oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback,jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;deferredModules.push([322,0]),checkDeferredModules()}({322:function(module,exports,__webpack_require__){__webpack_require__(39),module.exports=__webpack_require__(597)},594:function(module,exports,__webpack_require__){},597:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(13),__webpack_require__(14),__webpack_require__(15),__webpack_require__(36),__webpack_require__(11);var defineProperty=__webpack_require__(8),defineProperty_default=__webpack_require__.n(defineProperty),react=__webpack_require__(4),react_default=__webpack_require__.n(react),react_dom=__webpack_require__(34),react_addons_css_transition_group=(__webpack_require__(30),__webpack_require__(51),__webpack_require__(59),__webpack_require__(43),__webpack_require__(37),__webpack_require__(31)),react_addons_css_transition_group_default=__webpack_require__.n(react_addons_css_transition_group),index_esm=__webpack_require__(25),ComponentsFactory=__webpack_require__(10),EventsService=__webpack_require__(3),regenerator=(__webpack_require__(52),__webpack_require__(48),__webpack_require__(77),__webpack_require__(152),__webpack_require__(64),__webpack_require__(99),__webpack_require__(159),__webpack_require__(9)),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=(__webpack_require__(39),__webpack_require__(12)),asyncToGenerator_default=__webpack_require__.n(asyncToGenerator),objectAssignDeep=__webpack_require__(45),objectAssignDeep_default=__webpack_require__.n(objectAssignDeep),get=__webpack_require__(21),get_default=__webpack_require__.n(get),set=__webpack_require__(163),set_default=__webpack_require__.n(set),has=__webpack_require__(19),has_default=__webpack_require__.n(has),CHANGE_COLOR_TO_GRAY="CHANGE_COLOR_TO_GRAY",TOGGLE_PREFERENCE="TOGGLE_PREFERENCE",INVERT_IMAGE="INVERT_IMAGE",SET_STATE="SET_STATE",SET_CONFIG="SET_CONFIG",SELECTIVE_CONFIG_RESET="SELECTIVE_CONFIG_RESET",RELOAD_IFRAMES="RELOAD_IFRAMES",HIDE_OR_SHOW="HIDE_OR_SHOW",SET_SELECTED="SET_SELECTED",SET_TEXT="SET_TEXT",SET_PREFERENCES="SET_PREFERENCES",INSERT_INPUT_TO_LOCALSTORAGE="INSERT_INPUT_TO_LOCALSTORAGE",PREFERENCES_DUPLICATOR="PREFERENCES_DUPLICATOR",MARK_TIME="MARK_TIME",PREF_COUNT="PREF_COUNT",FORCE_REPLACE_CONFIG_FUNCTION="FORCE_REPLACE_CONFIG_FUNCTION",DYNAMIC_ACTION_EXECUTION="DYNAMIC_ACTION_EXECUTION",REREGISTER_BEHAVIOURS="REREGISTER_BEHAVIOURS",CHANGE_BACKGROUND="CHANGE_BACKGROUND",CHANGE_FOOTER="CHANGE_FOOTER",RELOAD_BACKGROUND="RELOAD_BACKGROUND",PERSIST_BACKGROUND="PERSIST_BACKGROUND",SET_BORDER_GRAY="SET_BORDER_GRAY",HIDE_WHEN_CLICKED_OUTSIDE="HIDE_WHEN_CLICKED_OUTSIDE",PUBLISH_EVENTS_WHEN_CLICKED_OUTSIDE="PUBLISH_EVENTS_WHEN_CLICKED_OUTSIDE",HIDE_COMPONENT="HIDE_COMPONENT",SHOW_COMPONENT="SHOW_COMPONENT",SOFT_HIDE_COMPONENT="SOFT_HIDE_COMPONENT",SOFT_SHOW_COMPONENT="SOFT_SHOW_COMPONENT",HIDE_OR_SHOW_FINISHED="HIDE_OR_SHOW_FINISHED",TOGGLE_PREF_FINISHED="TOGGLE_PREF_FINISHED",GET_SEARCH_SUGGESTIONS="GET_SEARCH_SUGGESTIONS",SET_CHROME_POPUP="SET_CHROME_POPUP",CHANGE_SSE_STATE="CHANGE_SSE_STATE",CHANGE_SELECTED="CHANGE_SELECTED",CHANGE_VISIBILITY="CHANGE_VISIBILITY",HIDE="HIDE",UPDATE_WEATHER="UPDATE_WEATHER",UNINSTALL_EXTENSION="UNINSTALL_EXTENSION",PARSE_URL="PARSE_URL",OPEN_WEB_PAGE="OPEN_WEB_PAGE",RELOAD_COMPONENT="RELOAD_COMPONENT",RECONSTRUCT_COMPONENT="RECONSTRUCT_COMPONENT",REDIRECT_CURRENT_TAB="REDIRECT_CURRENT_TAB",SHOW_RATE_US_POPUP="SHOW_RATE_US_POPUP",DO_ACTION_ON_INTERVAL="DO_ACTION_ON_INTERVAL",DO_ACTION_WHEN_CONDITION_MET="DO_ACTION_WHEN_CONDITION_MET",TRIGGER_EVENTS="TRIGGER_EVENTS",CHANGE_TAB_TITLE="CHANGE_TAB_TITLE",SET_SEARCH_ENGINE="SET_SEARCH_ENGINE",LOCK_SETTINGS="LOCK_SETTINGS",TRACK="TRACK",DEBUG="DEBUG",UPDATE_INTERVAL_COMPONENTS="UPDATE_INTERVAL_COMPONENTS",CLOSE_WINDOW="CLOSE_WINDOW",DISABLE_WINDOW_RESIZING="DISABLE_WINDOW_RESIZING",SWITCH_STATE_PARAMS="SWITCH_STATE_PARAMS",UPDATE_TEXT="UPDATE_TEXT",SEND_MESSAGE="SEND_MESSAGE",STRINGIFY_BYTES="STRINGIFY_BYTES",STRINGIFY_EPOCH_TIME="STRINGIFY_EPOCH_TIME",REPLACE_NEWTAB_WITH_NEWONE="REPLACE_NEWTAB_WITH_NEWONE",REMOVE_PREFERENCES="REMOVE_PREFERENCES",SET_FAVICON="SET_FAVICON",LOAD_STYLESHEET="LOAD_STYLESHEET",HISTORY_BACK="HISTORY_BACK",REPLACE_LOCATION="REPLACE_LOCATION",RELOAD_LOCATION="RELOAD_LOCATION",DISABLE_BROWSER_ACTION="DISABLE_BROWSER_ACTION",ENABLE_BROWSER_ACTION="ENABLE_BROWSER_ACTION",RELOAD_TAB="RELOAD_TAB",GET_MULTI_SEARCH_SUGGESTIONS="GET_MULTI_SEARCH_SUGGESTIONS",GENERIC_REACT_COMP_FUNCTION="GENERIC_REACT_COMP_FUNCTION",LoggerService=__webpack_require__(7),Consts=__webpack_require__(0),Utils=__webpack_require__(1),BrowserService=__webpack_require__(5),ServiceFactory=__webpack_require__(2),Condition=__webpack_require__(44),ApiAdapter=__webpack_require__(162),HttpService=__webpack_require__(26),TrackingActions=__webpack_require__(66),WebNavigationActions=__webpack_require__(164),ActionsUtils=__webpack_require__(6),FeatureNames=__webpack_require__(38);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function actionCreator(behaviour){var retFunc,_this=this,self=this;Object(index_esm.a)();switch(behaviour.do){case REDIRECT_CURRENT_TAB:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(behaviour.url&&"disable"!==behaviour.url&&Object(ActionsUtils.a)(args,behaviour,self)){var url="chrome-search://local-ntp/local-ntp.html"===behaviour.url&&"ff"===BrowserService.a.getBrowserFlavor("short")?"about:newtab":behaviour.url;BrowserService.a.getCurrentTabInfo(tab=>{BrowserService.a.updateTab(tab.id,url)})}};break;case GET_SEARCH_SUGGESTIONS:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var suggestUrlType=args.suggestUrlType||behaviour.suggestUrlType||!1,suggestUrl=self.search.getSuggestParam(self.search.getEngineIdByIndex(self.search.getTempOrCurrentSearchEngineIndex()),suggestUrlType,"url");if(suggestUrl){var query=(args.text||"").trim();if(query!==self.state.query){var resetSuggest=()=>{self.setState({rows:[],reset:!0})};if(query){if(behaviour.minTermLength&&query.length<behaviour.minTermLength)return self.setState({query:""}),void resetSuggest();if(behaviour.maxTermLength&&query.length>behaviour.maxTermLength){if(query.slice(0,behaviour.maxTermLength-1)===self.state.query&&self.state.rowsHidden)return;query=query.slice(0,behaviour.maxTermLength-1)}if(self.setState({query:query}),""!==args.text){var locale=BrowserService.a.locale2(),url=Object(Utils.db)(suggestUrl,{searchTerms:query,lang:locale,country:""}),maxItems=behaviour.maxItems||5;Object(HttpService.a)({method:"get",url:url,featureName:FeatureNames.f},"proxy").then(res=>{var json=self.search.parseSuggestByConfig(res.data,self.search.getSuggestParam(!1,suggestUrlType,"config"));json[0].indexOf(query)>-1&&self.setState({rows:json[1].slice(0,maxItems),selected:-1,rowsHidden:!1})}).catch(()=>{resetSuggest()})}else self.setState({rows:[]})}else resetSuggest()}}}};break;case GET_MULTI_SEARCH_SUGGESTIONS:retFunc=function(){var _ref=asyncToGenerator_default()(regenerator_default.a.mark((function _callee(){var args,query,resetSuggest,formatDefaultSearch,applySearchList,basePhFuncs,phFuncArray,_behaviour,apiConfig,suggestUrlType,defaultSuggestUrl,defaultSearchPromise,uDataFetched,pref,externalApisSearchPromises,searchPromiseArray,searchResults,combinedList,combinationConfig,_pattern,_args=arguments;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(args=_args.length>0&&void 0!==_args[0]?_args[0]:{},Object(ActionsUtils.a)(args,behaviour,self)){_context.next=3;break}return _context.abrupt("return");case 3:if(query=(args.text||"").trim(),self.query=query,resetSuggest=()=>{self.state.rows.length&&self.setState({rowsChanged:!0,rows:[],reset:!0})},query&&!(behaviour.minTermLength&&query.length<behaviour.minTermLength)){_context.next=9;break}return resetSuggest(),_context.abrupt("return");case 9:if(!(behaviour.maxTermLength&&query.length>behaviour.maxTermLength)){_context.next=14;break}if((query=query.slice(0,behaviour.maxTermLength-1))!==self.query||!self.state.rowsHidden){_context.next=14;break}return resetSuggest(),_context.abrupt("return");case 14:return formatDefaultSearch=json=>{var formattedList={},res=self.search.parseSuggestByConfig(json,self.search.getSuggestParam(!1,suggestUrlType,"config")),defaultTracking=_behaviour.defaultSearchSuggestTracking||!1;for(var i in formattedList={$default$:[]},res[1]){var val=res[1][i];formattedList.$default$.push(Object(Utils.Z)({__listId:"defaultSuggest",text:val,tracking:defaultTracking},"{{text}}",val))}return formattedList},applySearchList=list=>{var apiSumString="";if(_behaviour.calcSourcesSummary){var apiSourceSumObject={};for(var li in list)list[li].__listId&&(apiSourceSumObject[list[li].__listId]?apiSourceSumObject[list[li].__listId]++:apiSourceSumObject[list[li].__listId]=1);apiSumString=Object(Utils.R)(apiSourceSumObject,", ","|")}if(apiSumString||_behaviour.impressionEventName)for(var _li in list)_behaviour.trackingParamForApiSourceSumClick&&(list[_li]=Object(Utils.y)(list[_li],_behaviour.trackingParamForApiSourceSumClick,apiSumString||"")),_behaviour.impressionEventName&&EventsService.a.trigger(_behaviour.impressionEventName,[list[_li]]);self.setState({rowsChanged:!0,rows:list,selected:-1,rowsHidden:!1}),_behaviour.uniteImpressionEvent&&!Object(Utils.G)(_behaviour.uniteImpressionEvent)&&(_behaviour.uniteImpressionEvent=Object(Utils.S)(_behaviour.uniteImpressionEvent,_behaviour.uniteImpressionEvent.placeHolderFunctions,{},{args:args,behaviour:behaviour,query:query,apiSumString:apiSumString}),EventsService.a.trigger(_behaviour.uniteImpressionEvent.triggerEventName,[_behaviour.uniteImpressionEvent.triggerEventArgs]))},basePhFuncs=[{paramFromSource:{ph:"{{searchTerm}}",value:encodeURIComponent(query)}}],phFuncArray=Object(Utils.z)(behaviour.placeHolderFunctions)?[...basePhFuncs,...behaviour.placeHolderFunctions]:basePhFuncs,_behaviour=Object(Utils.S)(behaviour,phFuncArray,{},{args:args,behaviour:behaviour,query:query}),(apiConfig=_behaviour.apiConfig).featureName=FeatureNames.f,suggestUrlType=args.suggestUrlType||_behaviour.suggestUrlType||!1,defaultSuggestUrl=self.search.getDefaultSuggestionURL(suggestUrlType,query),defaultSearchPromise=!_behaviour.disableDefaultSuggest&&defaultSuggestUrl&&Object(HttpService.a)({method:"get",url:defaultSuggestUrl,featureName:FeatureNames.f},"proxy"),uDataFetched=Object(Utils.L)(),pref=ServiceFactory.a.get(Consts.Ib),externalApisSearchPromises=!(!uDataFetched||!Object(ActionsUtils.b)(pref.get(Consts.zb)))&&Object(ApiAdapter.a)(apiConfig,{},!1),searchPromiseArray=[defaultSearchPromise,externalApisSearchPromises],_context.next=30,Promise.all(searchPromiseArray);case 30:searchResults=_context.sent,_behaviour.disableDefaultSuggest||(searchResults[0]=formatDefaultSearch(searchResults[0].data)),combinedList=_objectSpread({},searchResults[0],{},searchResults[1]),combinationConfig=apiConfig.combinationConfig||!1,_pattern=!(!combinationConfig.pattern||Object(Utils.G)(combinationConfig.pattern))&&combinationConfig.pattern,combinedList=Object(Utils.O)(combinedList,_pattern,combinationConfig.maxIterations,combinationConfig.forcePattern),applySearchList(apiConfig.maxItems?combinedList.slice(0,apiConfig.maxItems):combinedList);case 37:case"end":return _context.stop()}}),_callee)})));return function retFunc(){return _ref.apply(this,arguments)}}();break;case CHANGE_SELECTED:retFunc=function retFunc(){var selected,args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(ActionsUtils.a)(args,behaviour,self)&&(args.keyCode===Consts.ob&&self.state.selected>0?selected=--self.state.selected:args.keyCode===Consts.pb&&self.state.selected+1<self.state.rows.length&&(selected=++self.state.selected),_this.selected!=selected&&(self.setState({selected:selected}),EventsService.a.trigger(Consts.f,[_objectSpread({},args,{},self.state.rows[selected],{searchObject:self.state.rows[selected]})])))};break;case DEBUG:retFunc=function retFunc(){for(var _len=arguments.length,rest=new Array(_len),_key=0;_key<_len;_key++)rest[_key]=arguments[_key];Object(ActionsUtils.a)(rest[0],behaviour)&&(LoggerService.a.debug("~~~~~DEBUG-START~~~~~"),rest.forEach(value=>{LoggerService.a.debug(`args: ${JSON.stringify(value)}`)}),LoggerService.a.debug("~~~~~DEBUG-END~~~~~"))};break;case HIDE_WHEN_CLICKED_OUTSIDE:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},logic=()=>{try{react_dom.findDOMNode(self).contains(args.target||args[0]&&args[0].target)||(self.state&&self.state.rows?self.setState({rows:[],selected:-1,rowsHidden:!0}):self.state&&self.state.isOpen&&self.setState({isOpen:!1}),self.state&&has_default()(self.props.config,"hide")&&(self.props.config.hide=!0,self.setState({hide:!0})))}catch(e){}};behaviour.delay?setTimeout(logic,behaviour.delay):logic()};break;case SET_SEARCH_ENGINE:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(args.engineId&&Object(ActionsUtils.a)(args,behaviour,self)){var pref=ServiceFactory.a.get(Consts.Ib),setEngine=()=>{search.setCurrentSearchEngine(args.engineId),EventsService.a.trigger(Consts.Tb,[args])},search=ServiceFactory.a.get(Consts.Wb);search.isEnginePersist(args.engineId)?args.engineId!==pref.get(Consts.ac)&&setEngine():args.engineId!==pref.get(Consts.jc)&&setEngine()}};break;case SET_CHROME_POPUP:retFunc=args=>{Object(ActionsUtils.a)(args,behaviour,self)&&(Object(Utils.M)(behaviour.html)||(BrowserService.a.setBrowserActionPopUp(behaviour.html,behaviour.tabId?parseInt(behaviour.tabId,10):null),EventsService.a.trigger("SET_CHROME_POPUP_DONE")))};break;case PUBLISH_EVENTS_WHEN_CLICKED_OUTSIDE:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{if(behaviour.events&&self&&self.mounted&&!(self.props.config.hide&&self.state.hide||react_dom.findDOMNode(self).contains(args.target||args[0]&&args[0].target)))for(var i in behaviour.events)EventsService.a.trigger(behaviour.events[i].name,[Object.assign(behaviour.events[i])])}catch(e){LoggerService.a.track(Consts.R,`PUBLISH_EVENTS_WHEN_CLICKED_OUTSIDE: ${e.message}`)}};break;case CHANGE_BACKGROUND:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){self.state=self.state||{};var image=args.image||behaviour.image||!1,color=args.color||behaviour.color||!1,pref=ServiceFactory.a.get(Consts.Ib);if((args.lsImage||behaviour.lsImage)&&(image=pref.get(args.lsImage||behaviour.lsImage)),(args.lsColor||behaviour.lsColor)&&(image=pref.get(args.lsColor||behaviour.lsColor)),image){color=color||"none",image=behaviour.style&&Object(Utils.I)(behaviour.style[image])?behaviour.style[image]:image;var newStyle=behaviour.style&&Object(Utils.F)(behaviour.style[image])?behaviour.style[image]:{},imageString=Object(Utils.w)(image,!0),gradient=self.props&&self.props.config&&self.props.config.backgroundImageGradient;imageString=gradient&&Object(Utils.fb)(imageString,"url(")?`${gradient},${imageString}`:imageString;var source=self.state.style||self.props.config.style||{};if(source.backgroundColor===color&&source.backgroundImage===imageString)return;self.setState({style:_objectSpread({},self.state.style||{},{},newStyle,{backgroundImage:imageString,backgroundColor:color})})}else color&&self.setState({style:_objectSpread({},self.state.style||{},{backgroundImage:"none",backgroundColor:color})})}};break;case PERSIST_BACKGROUND:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var prefService=ServiceFactory.a.get(Consts.Ib);args.image?(prefService.set(Consts.h,args.image),prefService.set(Consts.g,"")):args.color&&(prefService.set(Consts.g,args.color),prefService.set(Consts.h,""))}};break;case RELOAD_BACKGROUND:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var prefService=ServiceFactory.a.get(Consts.Ib),props={};props.color=prefService.get(Consts.g),props.image=prefService.get(Consts.h),EventsService.a.trigger(CHANGE_BACKGROUND,[props])}};break;case SET_BORDER_GRAY:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(args.color)self.setState({style:_objectSpread({},self.state?self.state.style:{},{borderColor:"lightgray"})});else if(args.image){var previousStyle=_objectSpread({},self.state?self.state.style:{});delete previousStyle.borderColor,self.setState({style:previousStyle})}self.mounted&&self.forceUpdate()};break;case CHANGE_COLOR_TO_GRAY:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self))if("#ffffff"===args.color)self.setState({style:_objectSpread({},self.state?self.state.style:{},{color:"#8A8A8A"})});else if(/tile-bg\.png$/.test(args.image))self.setState({style:_objectSpread({},self.state?self.state.style:{},{color:"#555"})});else{var unselectedStyle={color:self.props.config.style.color};self.setState({style:_objectSpread({},self.state?self.state.style:{},{},unselectedStyle)})}};break;case INVERT_IMAGE:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("#ffffff"===args.color)self.setState({style:_objectSpread({},self.state?self.state.style:{},{WebkitFilter:"invert(100%)",filter:"invert(100%)"})});else if(/tile-bg\.png$/.test(args.image))self.setState({style:_objectSpread({},self.state?self.state.style:{},{WebkitFilter:"invert(100%)",filter:"invert(100%)"})});else{var unselectedStyle={filter:self.props.config.style.filter?self.props.config.style.filter:"invert(0%)",WebkitFilter:self.props.config.style.filter?self.props.config.style.filter:"invert(0%)"};self.setState({style:_objectSpread({},self.state?self.state.style:{},{},unselectedStyle)})}};break;case SET_STATE:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var state=behaviour.state||args.state,mergeStates=behaviour.mergeStates||!1,pref=ServiceFactory.a.get(Consts.Ib);if(behaviour.dynamic&&Array.isArray(behaviour.dynamic)){for(var elem in state=JSON.stringify(state),behaviour.dynamic){var obj=behaviour.dynamic[elem],regex=new RegExp(obj.ph,"g"),str="pref"===obj.source?pref.get(obj.key):"self"===obj.source?self:args[obj.key];obj.deepValue&&(str=get_default()(str,obj.deepValue,"")),state=state.replace(regex,str)}state=JSON.parse(state)}var funcs=behaviour.phFunctions||behaviour.placeHolderFunctions;if(Array.isArray(funcs))try{state=Object(Utils.S)(state,funcs,{},self)}catch(e){}self.mounted&&(mergeStates?self.setState(objectAssignDeep_default()({},self.state,state)):self.setState(_objectSpread({},state)))}else if(behaviour.ignorable);else{var unselectedState={};for(var key in behaviour.state)unselectedState[key]="object"==typeof behaviour.state[key]?{}:void 0;self.setState(_objectSpread({},unselectedState))}};break;case SET_CONFIG:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var config=behaviour.config||args.config||{},assignMethod="deepAssign"===behaviour.method?objectAssignDeep_default.a:Object.assign,oldConfig=self.props.config,newConfig=_objectSpread({},self.props.config,{},config);if(!Object(Utils.b)(newConfig,oldConfig)){assignMethod(self.props.config,config||{}),self.mounted&&self.setState(self.state);var event=args.doneEvent||behaviour.doneEvent||`SET_CONFIG_DONE_${self.props.config.id}`;EventsService.a.trigger(event,[newConfig])}}};break;case SELECTIVE_CONFIG_RESET:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var keysToReset=!(!behaviour.keysToReset||Object(Utils.G)(behaviour.keysToReset))&&behaviour.keysToReset,newState=keysToReset?{}:self.props.config;if(keysToReset)for(var i in keysToReset){var key=keysToReset[i];newState[key]=self.props.config[key]}self.setState(newState)}};break;case RELOAD_IFRAMES:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(ActionsUtils.a)(args,behaviour,self)&&"function"==typeof self.updateIframes&&self.updateIframes(args.state||{})};break;case UPDATE_TEXT:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var argsKey=behaviour.argsKey||"text",text=behaviour.text||args[argsKey]||"";self.setState({text:text})}};break;case SEND_MESSAGE:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var messagesArr=behaviour.messages||!1;if(messagesArr&&Array.isArray(messagesArr))for(var msg in messagesArr)window.postMessage(messagesArr[msg],"*")}};break;case LOCK_SETTINGS:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(behaviour.keys&&Object(ActionsUtils.a)(args,behaviour,self))try{for(var pref=ServiceFactory.a.get(Consts.Ib),value=!behaviour.unlock||!0!==behaviour.unlock||void 0,i=0;i<Object.keys(behaviour.keys).length;i++)pref.set(`${behaviour.keys[i]}_locked`,value)}catch(e){LoggerService.a.track(Consts.R,`LOCK_SETTINGS90: ${e.message}`)}};break;case SET_SELECTED:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},sender=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var selectedId=sender.id||behaviour.selectedId||args.selectedId||"";if(self.props.config.id===selectedId)self.setState({style:_objectSpread({},self.state?self.state.style:{},{},self.props.config.selectedStyle),selected:!0});else{var unselectedStyle={};for(var selectedKey in self.props.config.selectedStyle)unselectedStyle[selectedKey]=self.props.config.style[selectedKey];self.setState({style:_objectSpread({},self.state?self.state.style:{},{},unselectedStyle),selected:!1})}}};break;case SET_TEXT:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)&&(self.setState({text:args.text}),self.props.config.events&&self.props.config.events.onSetText)){var params=_objectSpread({},self.props.config.events.onSetText,{text:args.text,searchObject:args.searchObject||{}});EventsService.a.trigger(self.props.config.events.onSetText.name,[params,_objectSpread({},self.props.config)])}};break;case HIDE_OR_SHOW:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(ActionsUtils.a)(args,behaviour,self)&&(self.props.config.hide=!self.props.config.hide,self.mounted&&self.forceUpdate(),Object.assign(args,behaviour.args||{}),Object(Utils.F)(behaviour.events)&&(behaviour.events.hide&&self.props.config.hide?EventsService.a.trigger(behaviour.events.hide,[args]):behaviour.events.show&&!self.props.config.hide&&EventsService.a.trigger(behaviour.events.show,[args]))),EventsService.a.trigger(HIDE_OR_SHOW_FINISHED,[args])};break;case HIDE_COMPONENT:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(ActionsUtils.a)(args,behaviour,self)&&(self.props.config.hide=!0,self.mounted&&self.setState({hide:!0}))};break;case SHOW_COMPONENT:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var delay,pref=ServiceFactory.a.get(Consts.Ib);delay=has_default()(behaviour,"delay")?behaviour.delay:has_default()(args,"delay")?args.delay:pref.get(Consts.Gb)||0;var delayKey=behaviour.delayKey||args.delayKey||!1;delayKey&&pref.set(delayKey,delay),setTimeout(()=>{if(behaviour.stop){var key=behaviour.stop.key;if(pref.get(key)==behaviour.stop.val)return}self.props.config.hide=!1,self.mounted&&self.setState({hide:!1})},delay),EventsService.a.trigger(SHOW_COMPONENT,[_objectSpread({},self.props.config)]),EventsService.a.trigger(`${SHOW_COMPONENT}_${self.props.config.id}`,[_objectSpread({},self.props.config)])}};break;case SOFT_HIDE_COMPONENT:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var delay=0;has_default()(behaviour,"delay")?delay=behaviour.delay:has_default()(args,"delay")&&(delay=args.delay);var state={style:{display:"none"}};setTimeout(()=>{self.mounted&&self.setState(objectAssignDeep_default()({},self.state,state))},delay)}};break;case SOFT_SHOW_COMPONENT:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var delay=0;has_default()(behaviour,"delay")?delay=behaviour.delay:has_default()(args,"delay")&&(delay=args.delay);var display=behaviour.display||args.display||self.props.config.style&&self.props.config.style.display||"block",state={style:{display:display}};setTimeout(()=>{self.mounted&&self.setState(objectAssignDeep_default()({},self.state,state))},delay)}};break;case RELOAD_COMPONENT:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(ActionsUtils.a)(args,behaviour,self)&&self.mounted&&self.forceUpdate()};break;case RECONSTRUCT_COMPONENT:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)&&self.mounted){actionCreator.call(self,{do:FORCE_REPLACE_CONFIG_FUNCTION})(),self.setState({reconstruct:!0});var event=args.doneEvent||behaviour.doneEvent||`RECONSTRUCT_COMPONENT_${self.props.config.id}`;EventsService.a.trigger(event)}};break;case SET_PREFERENCES:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},lsKey=behaviour.key||args.key||!1;if(lsKey&&Object(ActionsUtils.a)(args,behaviour,self)){var pref=ServiceFactory.a.get(Consts.Ib),val="";has_default()(behaviour,"val")?val=behaviour.val:has_default()(args,"val")&&(val=args.val);var randomVal=args.randomVal||behaviour.randomVal||!1;randomVal&&(val=Object(Utils.U)("0123456789",9));var source=args.source||behaviour.source||"pref",relevantKeys=[];!0===behaviour.wildcard?pref.getAllKeys().forEach(key=>{key.indexOf(lsKey)>=0&&relevantKeys.push(key)}):relevantKeys.push(lsKey),relevantKeys.forEach(key=>{if(behaviour.op){var lsValue=pref.get(key)?parseFloat(pref.get(key)):0;switch(behaviour.op){case"*":lsValue*=val,pref.set(key,lsValue,source);break;case"-":lsValue-=val,pref.set(key,lsValue,source);break;case"/":0!==lsValue&&(lsValue/=val,pref.set(key,lsValue,source));break;case"+":lsValue+=val,pref.set(key,lsValue,source)}}else pref.set(key,val,source)})}};break;case PREFERENCES_DUPLICATOR:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var pref=ServiceFactory.a.get(Consts.Ib),keyFrom=args.keyFrom||behaviour.keyFrom||!1,keyTo=args.keyTo||behaviour.keyTo||!1,source=args.source||behaviour.source||"pref";keyFrom&&keyTo&&pref.set(keyTo,pref.get(keyFrom),source)}};break;case MARK_TIME:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var pref=ServiceFactory.a.get(Consts.Ib),key=args.key||behaviour.key||!1;if(key){var source=args.source||behaviour.source||"pref";pref.markTime(key,source)}}};break;case PREF_COUNT:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var pref=ServiceFactory.a.get(Consts.Ib),key=args.key||behaviour.key||!1;if(key){var source=args.source||behaviour.source||"pref";pref.count(key,source)}}};break;case INSERT_INPUT_TO_LOCALSTORAGE:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)&&args.stringId&&(args.key||behaviour.key)){var pref=ServiceFactory.a.get(Consts.Ib),key=behaviour.key?behaviour.key:args.key;pref.set(key,args.text)}};break;case TOGGLE_PREFERENCE:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var prefService=ServiceFactory.a.get(Consts.Ib),newValue=args.active?0:1;prefService.set(self.props.config.key,newValue),EventsService.a.trigger(TOGGLE_PREF_FINISHED)}};break;case CHANGE_VISIBILITY:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(ActionsUtils.a)(args,behaviour,self)&&(self.setState({isOpen:!self.state.isOpen}),self.props.config.hide=!self.props.config.hide,self.mounted&&self.forceUpdate())};break;case HIDE:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(ActionsUtils.a)(args,behaviour,self)&&self.setState({isOpen:!1})};break;case UPDATE_WEATHER:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var prefService=ServiceFactory.a.get(Consts.Ib),now=(new Date).getTime(),interval=9e5,prefUnit=prefService.get(Consts.yc),unit=args.unit||"{{UNITS_WEATHER}}"===prefUnit&&"metric"||prefUnit,currentUnit=self.state.isCelsius?"metric":"imperial",changedUnit=unit!==currentUnit,prefData=prefService.get(Consts.Hc),prefDataTime=prefService.get(Consts.Gc),updateSelf=data=>{prefService.set(Consts.yc,unit),self.mounted&&data.main&&self.setState({isCelsius:"imperial"!==unit,temperature:Math.round(data.main.temp),city:data.name,icon:`url(content/images/weather/${data.weather[0].icon}.svg)`})};if(!changedUnit&&Object(Utils.F)(prefData)&&prefDataTime&&now-prefDataTime<=interval)updateSelf(prefData);else{var geoData=prefService.get(Consts.gb);if(!geoData[Consts.sb]||!geoData[Consts.sb])return;var geoData_url=`https://api.openweathermap.org/data/2.5/weather?appid=${Consts.Fc}&lat=${geoData[Consts.sb]}&lon=${geoData[Consts.vb]}&units=${unit}&z=90883`;Object(HttpService.a)({method:"get",url:geoData_url,featureName:FeatureNames.i}).then(res=>{var gdata=res.data;gdata.main&&(prefService.set(Consts.Hc,gdata),prefService.set(Consts.Gc,(new Date).getTime()),prefService.set(Consts.v,gdata.name),updateSelf(gdata))}).catch(reason=>{self.mounted&&self.setState({isCelsius:"imperial"!==prefService.get(Consts.yc)})})}}catch(e){LoggerService.a.track(Consts.R,`UPDATE_WEATHER90: ${e.message}`)}};break;case TRACK:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(ActionsUtils.a)(args,behaviour,self)&&Object(TrackingActions.c)(args,behaviour)};break;case UNINSTALL_EXTENSION:retFunc=function retFunc(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];BrowserService.a.uninstall(()=>{})};break;case PARSE_URL:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"#ds1"===args.hash&&LoggerService.a.debug(window.decodeURIComponent(window.location.href))};break;case OPEN_WEB_PAGE:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(WebNavigationActions.a)(args,behaviour,self)};break;case CHANGE_SSE_STATE:retFunc=function retFunc(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];if("secured_active"===self.props.config.key){var tracking=ServiceFactory.a.get(Consts.oc),port=BrowserService.a.connectExternalFile("ws_feature_toggle"),prefService=ServiceFactory.a.get(Consts.Ib),active=prefService.get("secured_active");active?port.postMessage({secureSearch:!0}):port.postMessage({secureSearch:!1}),tracking.trackStatusEvent("secured_set","",`active: ${active}`)}};break;case CHANGE_FOOTER:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};args.image&&/tile-bg\.png$/.test(args.image)?self.setState({style:_objectSpread({},self.state?self.state.style:{},{backgroundColor:"#EEEEEE"})}):self.setState({style:_objectSpread({},self.state?self.state.style:{},{backgroundColor:""})})};break;case SHOW_RATE_US_POPUP:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var pref=ServiceFactory.a.get(Consts.Ib),timeKey=!(!behaviour||!behaviour.timeKey||"false"==behaviour.timeKey)&&behaviour.timeKey,interval=behaviour.interval||0,currentTime=Math.floor((new Date).getTime()/1e3);timeKey&&interval?(!pref.get(timeKey)||currentTime-pref.get(timeKey)>=interval)&&(pref.set(Consts.Qb,currentTime),EventsService.a.trigger(Consts.gc,[args])):(pref.set(Consts.Qb,currentTime),EventsService.a.trigger(Consts.gc,[args]))}};break;case DO_ACTION_ON_INTERVAL:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){if(behaviour.interval){var interval=behaviour.interval;behaviour.unit&&("s"===behaviour.unit?interval*=1e3:"m"===behaviour.unit?interval=1e3*interval*60:"h"===behaviour.unit&&(interval=1e3*interval*60*60)),setInterval(()=>{behaviour.do=behaviour.actionType,actionCreator.call(self,behaviour)(args),LoggerService.a.debug(`DO_ACTION_ON_INTERVAL called: ${behaviour.actionType}`)},interval)}behaviour.timeout&&setTimeout(()=>{behaviour.do=behaviour.actionType,actionCreator.call(self,behaviour)(args),LoggerService.a.debug(`DO_ACTION_ON_INTERVAL called: ${behaviour.actionType}`)},behaviour.timeout)}};break;case DO_ACTION_WHEN_CONDITION_MET:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},actionCondition=behaviour.actionCondition?new Condition.a(behaviour.actionCondition):null;if(null===actionCondition||actionCondition&&actionCondition.check(args,behaviour,self)){var cond=behaviour.c?new Condition.a(behaviour.c):null;if(cond){var check=()=>(LoggerService.a.debug("DO_ACTION_WHEN_CONDITION_MET check"),!!cond.check(args,behaviour,self)&&(behaviour.do=behaviour.actionType,actionCreator.call(self,behaviour)(_objectSpread({},args,{},behaviour.args)),LoggerService.a.debug(`DO_ACTION_WHEN_CONDITION_MET called: ${behaviour.actionType}`),!0));if(!check()){var intervalID=setInterval(()=>{check()&&clearInterval(intervalID)},behaviour.interval||100);setTimeout(()=>{clearInterval(intervalID)},behaviour.timeout||5e3)}}}};break;case TRIGGER_EVENTS:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var pref=ServiceFactory.a.get(Consts.Ib),events=behaviour.events||args.events||!1;if(events&&"object"==typeof events){if(behaviour.dynamic&&Array.isArray(behaviour.dynamic)){for(var elem in events=JSON.stringify(events),behaviour.dynamic){var obj=behaviour.dynamic[elem],regex1=new RegExp(`"${obj.ph}"`,"g"),regex2=new RegExp(obj.ph,"g"),str=void 0;switch(obj.source){case"pref":str=pref.get(obj.key);break;case"self":str=self;break;case"args":str=args;break;default:str=args[obj.key]}obj.deepValue&&(str="string"==typeof(str=get_default()(str,obj.deepValue,""))?str.trim():str),events=events.replace(regex1,JSON.stringify(str)).replace(regex2,str)}events=JSON.parse(events)}for(var event in behaviour.placeHoldersFunctions&&(events=Object(Utils.S)(events,behaviour.placeHoldersFunctions,{},{self:self,behaviour:behaviour,args:args})),events)if("object"==typeof events[event])for(var eventName in events[event])EventsService.a.trigger(eventName,[_objectSpread({},behaviour,{},args,{},events[event][eventName])]);else EventsService.a.trigger(event,[_objectSpread({},behaviour,{},args,{},events[event])])}}};break;case UPDATE_INTERVAL_COMPONENTS:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var pref=ServiceFactory.a.get(Consts.Ib);if(behaviour.localStorageKey&&args.componentsState){var localStorageConfig=pref.get(behaviour.localStorageKey);"object"==typeof localStorageConfig&&"object"==typeof args.componentsState&&(localStorageConfig=_objectSpread({},localStorageConfig,{},args.componentsState),pref.set(behaviour.localStorageKey,localStorageConfig))}self.isIntervalComponent&&self.mounted&&"object"==typeof self.state.componentsState&&"object"==typeof args.componentsState&&self.setState(_objectSpread({},self.state,{componentsState:objectAssignDeep_default()({},self.state.componentsState,args.componentsState)}))}};break;case CLOSE_WINDOW:retFunc=args=>{if(Object(ActionsUtils.a)(args,behaviour,self)){var delay=behaviour.delay||args.delay||0;setTimeout(()=>{window.close()},delay)}};break;case CHANGE_TAB_TITLE:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var title=behaviour.title||args.title||!1;title&&(document.title=title)}};break;case DISABLE_WINDOW_RESIZING:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var size=[window.outerWidth,window.outerHeight];window.onresize=()=>{window.resizeTo(size[0],size[1])}}};break;case SWITCH_STATE_PARAMS:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var rules=args.rules||behaviour.rules||!1;if(rules){var newState={};rules.forEach(config=>{var fromVal=get_default()(self.state,config.fromValue),tempObj=set_default()({},config.toValue,fromVal);objectAssignDeep_default()(newState,tempObj)}),self.setState(objectAssignDeep_default()({},self.state,newState));var doneEvent=args.doneEvent||behaviour.doneEvent||!1;doneEvent&&EventsService.a.trigger(doneEvent,[objectAssignDeep_default()({},args,{state:newState})])}}};break;case STRINGIFY_BYTES:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var source=behaviour.source||args.source||0,decimals=behaviour.decimals||args.decimals||2,space=behaviour.space||args.space||!1,result=Object(Utils.hb)(source,decimals,space),event=behaviour.event||"STRINGIFY_BYTES_DONE";EventsService.a.trigger(event,[{result:result}])}};break;case STRINGIFY_EPOCH_TIME:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var epoch=behaviour.epoch||args.epoch||!1,func=behaviour.function||args.function||"toLocaleString",time=new Date;try{time=!1!==epoch?new Date(parseInt(epoch,10)):time}catch(e){}var result="function"==typeof time[func]?time[func]():time.toLocaleString(),event=behaviour.event||"STRINGIFY_EPOCH_TIME_DONE";EventsService.a.trigger(event,[{result:result}])}};break;case REPLACE_NEWTAB_WITH_NEWONE:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){BrowserService.a.getCurrentTabInfo(tabInfo=>{BrowserService.a.createTab(),BrowserService.a.removeTab(tabInfo.id)});var triggerEvent=behaviour.triggerEvent;if(triggerEvent)for(var event in triggerEvent)EventsService.a.trigger(event,[_objectSpread({},self.props.config,{},args,{},triggerEvent[event])])}};break;case REMOVE_PREFERENCES:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var key=behaviour.key||!1;if(key&&key!==`${Consts.Eb}${Consts.b}`){var pref=ServiceFactory.a.get(Consts.Ib);pref.remove(key)}}};break;case FORCE_REPLACE_CONFIG_FUNCTION:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("function"==typeof self.replaceConfigFunc&&Object(ActionsUtils.a)(args,behaviour,self)){var extraData=_objectSpread({},behaviour.extraData,{},args.extraData),extraFuncs=Object(Utils.z)(behaviour.extraFuncs)?behaviour.extraFuncs:[];extraFuncs=Object(Utils.z)(args.extraFuncs)?[...extraFuncs,...args.extraFuncs]:extraFuncs,self.replaceConfigFunc(extraFuncs,extraData);var event=args.doneEvent||behaviour.doneEvent||`FORCE_REPLACE_CONFIG_FUNCTION_${self.props.config.id}`;self.state.forceReplace=!0,self.setState({}),EventsService.a.trigger(event)}};break;case DYNAMIC_ACTION_EXECUTION:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!args.behaviour)return!1;var behave=args.behaviour;return!!Object(ActionsUtils.a)(args,behave,self)&&(actionCreator.call(self,behave)(_objectSpread({},args,{},args.args)),!0)};break;case REREGISTER_BEHAVIOURS:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var unB=Object(Utils.z)(self.props.config.behaviours)?self.props.config.behaviours:[];unregister.bind(self)(unB);var extraBehaviours=Object(Utils.z)(args.extraBehaviours)?args.extraBehaviours:[],defaultBehaviours=Object(Utils.z)(self.props.config.behaviours)?self.props.config.behaviours:[],b=[defaultBehaviours,...extraBehaviours];register.bind(self)(b);var doneEvent=args.doneEvent||behaviour.doneEvent||`REREGISTER_BEHAVIOURS_${self.props.config.id}`;EventsService.a.trigger(doneEvent,[])}};break;case SET_FAVICON:retFunc=function retFunc(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var link=document.querySelector('link[rel*="icon"]')||document.createElement("link");link.type="image/x-icon",link.rel="shortcut icon",link.href=behaviour.href,document.getElementsByTagName("head")[0].appendChild(link)};break;case LOAD_STYLESHEET:retFunc=function retFunc(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var url=behaviour.href;if(!document.querySelector(`link[href="${url}"]`)){var head=document.getElementsByTagName("head")[0],link=document.createElement("link");link.rel="stylesheet",link.type="text/css",link.href=url,link.media="all",head.appendChild(link)}};break;case HISTORY_BACK:retFunc=function retFunc(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];window.history.back(),behaviour.close&&1===history.length&&window.close()};break;case REPLACE_LOCATION:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(ActionsUtils.a)(args,behaviour,self)&&window.location.replace(behaviour.location||args.location)};break;case RELOAD_LOCATION:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(ActionsUtils.a)(args,behaviour,self)&&window.location.reload()};break;case DISABLE_BROWSER_ACTION:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(ActionsUtils.a)(args,behaviour,self)&&BrowserService.a.setBrowserActionDisable(behaviour.tabId)};break;case ENABLE_BROWSER_ACTION:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(ActionsUtils.a)(args,behaviour,self)&&BrowserService.a.setBrowserActionEnable(behaviour.tabId)};break;case RELOAD_TAB:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(ActionsUtils.a)(args,behaviour,self)&&BrowserService.a.tabsReload(behaviour.tabId)};break;case GENERIC_REACT_COMP_FUNCTION:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var functionToExecute=behaviour.functionName,fArgs=behaviour.functionArguments||[];functionToExecute&&Object(Utils.D)(self[functionToExecute])&&self[functionToExecute](...fArgs)}};break;default:retFunc=()=>{}}return function(){Object(Utils.T)(behaviour);for(var _len2=arguments.length,rest=new Array(_len2),_key2=0;_key2<_len2;_key2++)rest[_key2]=arguments[_key2];Object(Utils.T)(rest[0]);var env_=EventsService.a.env_,argsObj={};rest.forEach(arg=>{argsObj=Object.assign(argsObj,arg)}),!0===argsObj.forceCrossContextEvent?retFunc.apply(_this,rest):"object"==typeof argsObj.forceCrossContextEvent&&env_?argsObj.forceCrossContextEvent[env_]&&retFunc.apply(_this,rest):argsObj.eventFromOtherContext?!0===behaviour.crossContextListener?"object"==typeof argsObj.crossContextEventTargets?argsObj.crossContextEventTargets[env_]&&retFunc.apply(_this,rest):retFunc.apply(_this,rest):"object"==typeof behaviour.crossContextListener&&argsObj.eventSource&&behaviour.crossContextListener[argsObj.eventSource]&&retFunc.apply(_this,rest):"object"==typeof argsObj.crossContextEventTargets?argsObj.crossContextEventTargets[env_]&&retFunc.apply(_this,rest):retFunc.apply(_this,rest)}}function unregister(behaviours){var _this2=this;if(behaviours)for(var _loop=function _loop(i){for(var behaviourArr=Object(Utils.d)(behaviours[i]),_loop2=function _loop2(j){var behaviour=behaviourArr[j];if(!behaviour||!behaviour.on||!behaviour.do)return"continue";var onArray=Object(Utils.d)(behaviour.on),doArray=Object(Utils.d)(behaviour.do),that=_this2;doArray.forEach((doElm,doIndex)=>{var clonedBehaviour=Object(Utils.j)(behaviour);clonedBehaviour.do=doElm,clonedBehaviour.on=onArray,EventsService.a.off(clonedBehaviour.on,that._registeredActions[j][i][doIndex])})},j=0;j<behaviourArr.length;j++)_loop2(j)},i=0;i<behaviours.length;i++)_loop(i)}function register(behaviours){var _this3=this,createAction=actionCreator.bind(this);if(behaviours)for(var _loop3=function _loop3(i){for(var behaviourArr=Object(Utils.d)(behaviours[i]),_loop4=function _loop4(j){var behaviour=behaviourArr[j];if(!behaviour||!behaviour.on||!behaviour.do)return"continue";var onArray=Object(Utils.d)(behaviour.on),doArray=Object(Utils.d)(behaviour.do),that=_this3;onArray.forEach((onElm,onIndex)=>{doArray.forEach((doElm,doIndex)=>{var clonedBehaviour=Object(Utils.j)(behaviour);clonedBehaviour.do=doElm,clonedBehaviour.on=onElm,clonedBehaviour.__BehaviourId=Object(index_esm.a)(),that._registeredActions=that._registeredActions||[],that._registeredActions[j]=that._registeredActions[j]||[],that._registeredActions[j][i]=that._registeredActions[j][i]||[],that._registeredActions[j][i][doIndex]=createAction(clonedBehaviour),EventsService.a.on(clonedBehaviour.on,that._registeredActions[j][i][doIndex])})})},j=0;j<behaviourArr.length;j++)_loop4(j)},i=0;i<behaviours.length;i++)_loop3(i)}__webpack_require__(592);class GenericReactComponentWrapper_GenericReactComponentWrapper extends react.Component{constructor(props){super(props),this._uniqueComponentId=Object(index_esm.a)()}getDataAutoAttr(props){var data_auto=props.config.data_auto;return data_auto&&Object(Utils.F)(data_auto)?encodeURIComponent(JSON.stringify(data_auto)):null}setDynamicAttributes(){var props=this.props;if(props.config.attributes){var elem=react_dom.findDOMNode(this);elem&&Object.keys(props.config.attributes).forEach(objectKey=>{elem.setAttribute(objectKey,props.config.attributes[objectKey])})}}getMergedChildrenProps(){try{var props=this.props,childrenProps=props.config.childrenProps,comps=[...(Object(Utils.F)(props.config.components)?Object.values(props.config.components):props.config.components)||[]];if(childrenProps&&Object(Utils.F)(childrenProps)&&Array.isArray(comps)&&comps.length){var _props=childrenProps.props||{},method="deepAssign"===childrenProps.method?objectAssignDeep_default.a:Object.assign;comps=comps.map(comp=>method({},_props,comp))}return comps}catch(error){}return[]}takeFocusOnInterval(){if(this.shouldTakeFocus()){var counter=0;this.takeFocusOnIntervalREF=setInterval(()=>{++counter,this.textInput.focus(),10===counter&&this.stopIntervalFocus()},100)}}stopIntervalFocus(){this.takeFocusOnIntervalREF&&(clearInterval(this.takeFocusOnIntervalREF),this.takeFocusOnIntervalREF=void 0)}shouldTakeFocus(){return!!this.props.config.focus}shouldHide(){var hide=!1,state=this.state,props=this.props;return Object(Utils.M)(state.hide)?Object(Utils.M)(props.config.hide)||(hide=props.config.hide):hide=state.hide,Object(Utils.ib)(hide)}conditionalConfigMerge(){var fromRender=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{var props=this.props;if(!props.config.conditionalConfigMerge)return;var merger=()=>{var arr=Object(Utils.F)(props.config.conditionalConfigMerge)?[props.config.conditionalConfigMerge]:props.config.conditionalConfigMerge;arr&&arr.forEach(settings=>{var cond=settings.c?new Condition.a(settings.c):null;Object(Utils.F)(settings.config)&&(null===cond||cond&&cond.check(props.config,settings,props.config))&&objectAssignDeep_default.a.withOptions(props.config,[settings.config],settings.options||{arrayBehaviour:"replace"})})};fromRender?(Object(Utils.M)(props.config.conditionalConfigMerge.onRender)||props.config.conditionalConfigMerge.onRender)&&merger():merger()}catch(e){}}}function Container_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function Container_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Container_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Container_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}ComponentsFactory.a.add(()=>GenericReactComponentWrapper_GenericReactComponentWrapper,"GenericReactComponentWrapper");var Block=__webpack_require__(60).Block;class Container_Container extends GenericReactComponentWrapper_GenericReactComponentWrapper{constructor(props){super(props),this.conditionalConfigMerge(),this.originalConfig=JSON.parse(JSON.stringify(props.config)),this.replaceConfigFunc(),this.state={hovered:!1,style:props.config.selected&&props.config.selectedStyle?props.config.selectedStyle:{}},"mainWindow"===props.config.id&&Object(Utils.F)(props.config.style)&&(Object(Utils.M)(props.config.style.backgroundColor)||delete props.config.style.backgroundColor,Object(Utils.M)(props.config.style.backgroundImage)||delete props.config.style.backgroundImage),this.props.config.events&&((this.props.config.events.onDragStart||this.props.config.events.onDragEnter||this.props.config.events.onDragOver||this.props.config.events.onDragLeave)&&window.addEventListener("dragover",e=>{(e=e||event).preventDefault()},!1),this.props.config.events.onDrop&&(window.addEventListener("dragover",e=>{(e=e||event).preventDefault()},!1),window.addEventListener("drop",e=>{(e=e||event).preventDefault()},!1))),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.handleOnClick=this.handleOnClick.bind(this),this.handleOnDragStart=this.handleOnDragStart.bind(this),this.handleOnDragEnter=this.handleOnDragEnter.bind(this),this.handleOnDragOver=this.handleOnDragOver.bind(this),this.handleOnDragLeave=this.handleOnDragLeave.bind(this),this.handleOnDrop=this.handleOnDrop.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.nextClickName=0}replaceConfigFunc(){var extraFuncs=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],extraData=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},config=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.originalConfig;try{if(Object(Utils.z)(this.originalConfig.placeHoldersFunctions)){var phFuncs=Object(Utils.z)(extraFuncs)?[...this.originalConfig.placeHoldersFunctions,...extraFuncs]:this.originalConfig.placeHoldersFunctions,a=Object(Utils.S)(config,phFuncs,{},Container_objectSpread({},config,{},extraData,{_uniqueComponentId:this._uniqueComponentId}));Object.assign(this.props.config,a)}}catch(e){LoggerService.a.debug("error",e)}}createComponents(){var childrenComponents,components=this.getMergedChildrenProps();if(components&&components.length){var forceReplace=this.state.forceReplace||this.props.forceReplace;childrenComponents=Object.keys(components).map(componentKey=>{if(Object(Utils.F)(components[componentKey])&&components[componentKey].type){if(!Object(Utils.M)(components[componentKey].renderForEach))return this.createComponentForEach(components[componentKey],componentKey);var ComponentObject=ComponentsFactory.a.createComponent(components[componentKey].type);return react.createElement(ComponentObject,{key:componentKey,config:components[componentKey],hover:this.state.hovered,forceReplace:forceReplace})}return null})}return childrenComponents}createComponentForEach(componentTemplate,componentKey){var self=this,data=componentTemplate.renderForEach;if(!data||"object"!=typeof data)return[];var slicedData=Object(Utils.z)(data)&&componentTemplate.renderForEachLimit?data.slice(0,componentTemplate.renderForEachLimit):data;componentTemplate=JSON.stringify(componentTemplate),this.state.renderForEach=this.state.renderForEach||{},this.state.renderForEach[componentKey]=this.state.renderForEach[componentKey]||{};var children={},forceReplace=this.state.forceReplace||this.props.forceReplace,components=slicedData.map((value,key)=>{var childComponent=componentTemplate.replace(/{{key}}/g,key);childComponent="object"==typeof value?childComponent.replace(/"{{value}}"/g,JSON.stringify(value)):childComponent.replace(/{{value}}/g,value);var child=JSON.parse(childComponent);delete child.renderForEach,children[key]=child;var ComponentObject=ComponentsFactory.a.createComponent(child.type),childID=`${this.id}_${key}`;return react.createElement(ComponentObject,{key:childID,config:!forceReplace&&this.state.renderForEach[componentKey][key]||child,hover:self.state.hovered,forceReplace:forceReplace,renderedForEach:!0})});return this.state.renderForEach[componentKey]=Object.assign(children,!forceReplace&&this.state.renderForEach[componentKey]),components}componentWillMount(){this.props.config.events&&this.props.config.events.willMount&&EventsService.a.trigger(this.props.config.events.willMount.name,[Container_objectSpread({},this.props.config.events.willMount,{selected:this.props.config.selected,selfConfig:this.props.config,SelfOrigConfig:this.originalConfig,selfState:this.state,selfHideStatus:this.shouldHide()})])}componentDidMount(){this.mounted=!0,register.bind(this)(this.props.config.behaviours),this.setDynamicAttributes(),this.props.config.events&&this.props.config.events.onMount&&EventsService.a.trigger(this.props.config.events.onMount.name,[Container_objectSpread({},this.props.config.events.onMount,{selected:this.props.config.selected})])}componentWillUnmount(){this.mounted=!1,unregister.bind(this)(this.props.config.behaviours)}handleMouseEnter(event){this.setState({hovered:!0}),this.props.config.events&&this.props.config.events.onMouseEnter&&(event.stopPropagation(),event.preventDefault(),EventsService.a.trigger(this.props.config.events.onMouseEnter.name,[Container_objectSpread({},this.props.config.events.onMouseEnter)]))}handleMouseLeave(event){this.setState({hovered:!1}),this.props.config.events&&this.props.config.events.onMouseLeave&&(event.stopPropagation(),event.preventDefault(),EventsService.a.trigger(this.props.config.events.onMouseLeave.name,[Container_objectSpread({},this.props.config.events.onMouseLeave)]))}handleOnClick(event){if(this.props.config.events&&this.props.config.events.onClick){var params=Container_objectSpread({},this.props.config.events.onClick);event.stopPropagation(),EventsService.a.trigger((()=>{if(Array.isArray(this.props.config.events.onClick.names)){var returnVal=this.props.config.events.onClick.names[this.nextClickName];return this.nextClickName=this.props.config.events.onClick.names.length-1===this.nextClickName?0:this.nextClickName+1,returnVal}return this.props.config.events.onClick.name})(),[params,Container_objectSpread({},this.props.config)])}this.props.onClick&&this.props.onClick(event)}handleOnDragStart(event){this.props.config.events&&this.props.config.events.onDragStart&&(event.stopPropagation(),event.preventDefault(),EventsService.a.trigger(this.props.config.events.onDragStart.name,[Container_objectSpread({},this.props.config.events.onDragStart,{},event)],!0))}handleOnDragEnter(event){this.props.config.events&&this.props.config.events.onDragEnter&&(event.stopPropagation(),event.preventDefault(),EventsService.a.trigger(this.props.config.events.onDragEnter.name,[Container_objectSpread({},this.props.config.events.onDragEnter,{},event)],!0))}handleOnDragOver(event){this.props.config.events&&this.props.config.events.onDragOver&&(event.stopPropagation(),event.preventDefault(),EventsService.a.trigger(this.props.config.events.onDragOver.name,[Container_objectSpread({},this.props.config.events.onDragOver,{},event)],!0))}handleOnDragLeave(event){this.props.config.events&&this.props.config.events.onDragLeave&&(event.stopPropagation(),event.preventDefault(),EventsService.a.trigger(this.props.config.events.onDragLeave.name,[Container_objectSpread({},this.props.config.events.onDragLeave,{},event)],!0))}handleOnDrop(event){this.props.config.events&&this.props.config.events.onDrop&&(event.stopPropagation(),event.preventDefault(),EventsService.a.trigger(this.props.config.events.onDrop.name,[Container_objectSpread({},this.props.config.events.onDrop,{},event)],!0))}handleKeyDown(e){if(this.props.config.events&&this.props.config.events.onKeyDown){var event=this.props.config.events.onKeyDown,params=Container_objectSpread({},this.props.config.events.onKeyDown,{},event,{text:e.target.value,altKey:e.altKey,charCode:e.charCode,ctrlKey:e.ctrlKey,key:e.key,keyCode:e.keyCode,locale:e.locale,location:e.location,metaKey:e.metaKey,repeat:e.repeat,shiftKey:e.shiftKey,which:e.which});EventsService.a.trigger(event.name,[params,Container_objectSpread({},this.props.config,{selfConfig:this.props.config,SelfOrigConfig:this.originalConfig,selfState:this.state,selfHideStatus:this.shouldHide()})])}}handleScroll(event){this.props.config.events&&this.props.config.events.onScroll&&(event.stopPropagation(),event.preventDefault(),EventsService.a.trigger(this.props.config.events.onScroll.name,[Container_objectSpread({},this.props.config.events.onScroll)],!0))}render(){if(this.props.renderedForEach&&this.props.forceReplace&&this.replaceConfigFunc([],{},this.props.config),this.id=!this.state.reconstruct&&this.id||Object(index_esm.a)(),this.state.reconstruct=null,this.conditionalConfigMerge(!0),Object(Utils.T)(this.props.config),this.shouldHide())return null;var children=this.createComponents(),containerProps={onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:this.handleMouseLeave.bind(this),onClick:this.handleOnClick.bind(this),onDragStart:this.handleOnDragStart.bind(this),onDragEnter:this.handleOnDragEnter.bind(this),onDragOver:this.handleOnDragOver.bind(this),onDragLeave:this.handleOnDragLeave.bind(this),onDrop:this.handleOnDrop.bind(this),onKeyDown:this.handleKeyDown.bind(this),onScroll:this.handleScroll.bind(this)},basicStyle=this.props.config.style||{},hoverStyle=this.state.hovered&&this.props.config.hover||this.props.hover&&this.props.config.parentHover?this.props.config.hover:{},style=Container_objectSpread({},basicStyle,{},this.state.style,{},hoverStyle),container=react.createElement(Block,{key:this.id,style:style,props:containerProps,ref:containerRef=>{this.Container=containerRef}},children);return this.props.config.animateClass&&(container=react.createElement(react_addons_css_transition_group_default.a,{transitionName:this.props.config.animateClass,transitionAppear:!0,transitionAppearTimeout:0,transitionEnterTimeout:0,transitionLeaveTimeout:0},container)),this.state.forceReplace=!1,container}findDOMNode(){return react_dom.findDOMNode(this.Container)}}function Link_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function Link_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Link_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Link_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}ComponentsFactory.a.add(()=>Container_Container,"Container");class Link_Link extends GenericReactComponentWrapper_GenericReactComponentWrapper{constructor(props){super(props),this.state={style:{}}}componentDidMount(){this.mounted=!0,this.setDynamicAttributes(),register.bind(this)(this.props.config.behaviours)}componentWillUnmount(){this.mounted=!1,unregister.bind(this)(this.props.config.behaviours)}render(){if(Object(Utils.T)(this.props.config),this.shouldHide())return null;var prefService=ServiceFactory.a.get(Consts.Ib),title=BrowserService.a.getTranslationOnlyIfExist(this.props.config.title,prefService.get(Consts.qc));return react.createElement("a",{style:Link_objectSpread({},this.props.config.style||{},{},this.state?this.state.style:{}),href:this.props.config.href||"#",onClick:this.props.onClick,target:this.props.config.href?"_blank":""},title)}}function Text_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function Text_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Text_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Text_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}ComponentsFactory.a.add(()=>Link_Link,"Link");class Text_Text extends GenericReactComponentWrapper_GenericReactComponentWrapper{constructor(props){super(props),this.conditionalConfigMerge(),this.originalConfig=JSON.parse(JSON.stringify(props.config)),this.replaceConfigFunc(),this.state={hovered:!1},this.pref=ServiceFactory.a.get(Consts.Ib),this.handleClick=this.handleClick.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.dataAuto=this.getDataAutoAttr(props)}replaceConfigFunc(){var extraFuncs=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],extraData=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{if(Object(Utils.z)(this.originalConfig.placeHoldersFunctions)){var phFuncs=Object(Utils.z)(extraFuncs)?[...this.originalConfig.placeHoldersFunctions,...extraFuncs]:this.originalConfig.placeHoldersFunctions,a=Object(Utils.S)(this.originalConfig,phFuncs,{},Text_objectSpread({},this.originalConfig,{},extraData));Object.assign(this.props.config,a)}}catch(e){}}componentDidMount(){this.mounted=!0,this.setDynamicAttributes(),register.bind(this)(this.props.config.behaviours),this.props.config.events&&this.props.config.events.onMount&&EventsService.a.trigger(this.props.config.events.onMount.name,[Text_objectSpread({},this.props.config.events.onMount,{selfConfig:this.props.config,SelfOrigConfig:this.originalConfig,selfState:this.state,selfHideStatus:this.shouldHide()})])}componentWillUnmount(){this.mounted=!1,unregister.bind(this)(this.props.config.behaviours)}render(){this.conditionalConfigMerge(!0),Object(Utils.T)(this.props.config);var html=react.createElement("div",{style:{display:"none"}});if(this.shouldHide())return html;var text=this.handleText();return html=react.createElement("div",{ref:this.props.config.id,"data-auto":this.dataAuto,style:Text_objectSpread({},this.props.config.style?this.props.config.style:{},{},this.state.style,{},this.state.hovered&&this.props.config.hover||this.props.hover&&this.props.config.parentHover?this.props.config.hover:{}),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,dangerouslySetInnerHTML:!0===this.props.config.html?{__html:text}:null},!0===this.props.config.html?null:text)}handleText(){var text="";return text=this.props.config.dynamic?this.getCurrentText():Object(Utils.M)(this.state.text)?this.props.config.text:this.state.text,Object(Utils.C)(this.props.config.disable_trans)&&(text=BrowserService.a.getTranslationOnlyIfExist(text,this.pref.get(Consts.qc))),this.props.config.textOptions&&this.props.config.textOptions.capitalize&&(text=Object(Utils.f)(text)),text}getCurrentText(){return Object(Utils.M)(this.state.text)?this.props.config.text_key?localStorage[this.props.config.text_key]:this.props.config.text||"":this.state.text}handleMouseEnter(event){this.setState({hovered:!0})}handleMouseLeave(event){this.setState({hovered:!1})}handleClick(event){if(this.props.config.events&&this.props.config.events.onClick){var addedParams={active:this.state.active},params=Text_objectSpread({},addedParams=addedParams.active?addedParams:null,{},this.props.config.events.onClick,{selfConfig:this.props.config,SelfOrigConfig:this.originalConfig,selfState:this.state,selfHideStatus:this.shouldHide()});event.stopPropagation(),EventsService.a.trigger(this.props.config.events.onClick.name,[params,Text_objectSpread({},this.props.config)])}this.props.onClick&&this.props.onClick(event)}}ComponentsFactory.a.add(()=>Text_Text,"Text");var common_FirstChild=function FirstChild(props){return react.Children.toArray(props.children)[0]||null};function Item_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function Item_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Item_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Item_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var Item_Block=__webpack_require__(60).Block;class Item_Item extends GenericReactComponentWrapper_GenericReactComponentWrapper{constructor(props){super(props),this.pref=ServiceFactory.a.get(Consts.Ib),this.props=props,this.state={style:{},hovered:!1},this.props.config.key&&(this.state.active=1),props.config.selected&&(this.state={style:Item_objectSpread({},this.state?this.state.style:{},{},props.config.selectedStyle),hovered:!1}),this.getStateFromLocalStorage(),this.handleClick=this.handleClick.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.dataAuto=this.getDataAutoAttr(props)}componentDidMount(){this.mounted=!0,this.setDynamicAttributes(),register.bind(this)(this.props.config.behaviours)}componentWillUnmount(){this.mounted=!1,unregister.bind(this)(this.props.config.behaviours)}render(){this.getStateFromLocalStorage();var animateClass=this.props.config.animateClass;if(this.shouldHide())return animateClass?react.createElement(react_addons_css_transition_group_default.a,{component:common_FirstChild,transitionName:animateClass,transitionAppear:!0,transitionAppearTimeout:0,transitionEnterTimeout:0,transitionLeaveTimeout:0},null):null;var prefService=ServiceFactory.a.get(Consts.Ib),containerProps={onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,"data-auto":this.dataAuto};void 0!==this.state.active&&(this.state.active=this.pref.get(this.props.config.key),this.props.config.style=this.getStyleByState(this.state.active),this.props.config.text=this.getTextByState(this.state.active));var component=null;if(!this.props.config.hide){var txt=BrowserService.a.getTranslationOnlyIfExist(this.props.config.text,prefService.get(Consts.qc));component=react.createElement(Item_Block,{style:Item_objectSpread({},this.props.config.style?this.props.config.style:{},{},this.state.style,{},this.state.hovered&&this.props.config.hover||this.props.hover&&this.props.config.parentHover?this.props.config.hover:{}),props:containerProps},txt)}return this.props.config.animateClass&&(component=react.createElement(react_addons_css_transition_group_default.a,{component:common_FirstChild,transitionName:this.props.config.animateClass,transitionAppear:!0,transitionAppearTimeout:0,transitionEnterTimeout:0,transitionLeaveTimeout:0},component)),component}handleMouseEnter(event){this.setState({hovered:!0})}handleMouseLeave(event){this.setState({hovered:!1})}handleClick(event){if(this.props.config.events&&this.props.config.events.onClick){var addedParams={active:this.state.active},params=Item_objectSpread({},addedParams=void 0===addedParams.active?null:addedParams,{},this.props.config.events.onClick);event.stopPropagation(),EventsService.a.trigger(this.props.config.events.onClick.name,[params,Item_objectSpread({},this.props.config)])}this.props.onClick&&this.props.onClick(event)}getStyleByState(state){return this.props.config.options[state].style||this.props.config.style}getTextByState(state){return this.props.config.options[state].text}getStateFromLocalStorage(){this.props.config.stateFromLocalStorage&&this.props.config.stateFromLocalStorage.local_storage&&(Object(Utils.T)(this.props.config.stateFromLocalStorage),this.props.config.stateFromLocalStorage.stateKey?this.state[this.props.config.stateFromLocalStorage.stateKey]=Object.assign(this.state[this.props.config.stateFromLocalStorage.stateKey],this.props.config.stateFromLocalStorage):this.state=Object.assign(this.state,this.props.config.stateFromLocalStorage))}}ComponentsFactory.a.add(()=>Item_Item,"Item");var Subject=__webpack_require__(603),debounceTime=__webpack_require__(602),distinctUntilChanged=__webpack_require__(600),takeUntil=__webpack_require__(601);function Input_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function Input_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Input_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Input_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}class Input_Input extends GenericReactComponentWrapper_GenericReactComponentWrapper{constructor(props){super(props),this.changeEventValueSubject=new Subject.a,this.unSubscribeSubject=new Subject.a,this.isTranslationActive=!1,this.query="",this.debounceChangeTime=0,this.handleChange=this.handleChange.bind(this),this.handleClick=this.handleClick.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleBlur=this.handleBlur.bind(this),this.state={text:props.config.text||"",style:{}}}componentDidMount(){this.takeFocusOnInterval();var prefService=ServiceFactory.a.get(Consts.Ib);this.isTranslationActive=prefService.get(Consts.qc),this.mounted=!0,this.setDynamicAttributes(),register.bind(this)(this.props.config.behaviours),this.props.config.events&&this.props.config.events.onMount&&EventsService.a.trigger(this.props.config.events.onMount.name,[Input_objectSpread({},this.props.config.events.onMount)]),this.debounceChangeTime=+this.props.config.debounceTime||0,this.changeEventValueSubject.pipe(Object(debounceTime.a)(this.debounceChangeTime),Object(distinctUntilChanged.a)(),Object(takeUntil.a)(this.unSubscribeSubject)).subscribe(value=>{this.handleChangeSubject(value)})}componentWillUnmount(){this.mounted=!1,unregister.bind(this)(this.props.config.behaviours),this.unSubscribeSubject.next(!0),this.unSubscribeSubject.complete()}render(){var component=react.createElement("div",{style:{display:"none"}}),inputType=this.props.config.inputType?this.props.config.inputType:"text",text=Input_objectSpread({text:this.props.config.text},this.state&&void 0!==this.state.text?this.state:{}).text;text=this.isTranslationActive?BrowserService.a.getTranslationOnlyIfExist(text,this.isTranslationActive):text;var dir=this.props.config.direction||"ltr",HtmlTag=this.props.config.htmlTag||"input";if(this.props.config.hide)return component;var focusStyle=Input_objectSpread({},this.props.config.focusStyle,{},this.state.focusStyle),style=Input_objectSpread({},this.props.config.style,{},this.state.style);return style=this.state.focus&&Object.keys(focusStyle)>0?focusStyle:style,component=react.createElement(HtmlTag,{className:this.props.config.class,onFocus:this.handleFocus,onBlur:this.handleBlur,type:inputType,dir:dir,ref:input=>{this.textInput=input},autoFocus:this.shouldTakeFocus(),onClick:this.handleClick,onKeyDown:this.handleKeyDown,onChange:this.handleChange,placeholder:this.props.config.placeholder,value:"text"!==inputType&&"search"!==inputType||void 0!==text?text:"",style:style}),this.props.config.animateClass&&(component=react.createElement(react_addons_css_transition_group_default.a,{component:common_FirstChild,transitionName:this.props.config.animateClass,transitionAppear:!0,transitionAppearTimeout:0,transitionEnterTimeout:0,transitionLeaveTimeout:0},this.props.config.hide?null:component)),component}handleClick(e){if(this.props.config.events&&this.props.config.events.onClick){var params=Input_objectSpread({},this.props.config.events.onClick);e.stopPropagation(),EventsService.a.trigger(this.props.config.events.onClick.name,[params,Input_objectSpread({},this.props.config)])}}handleChange(e){this.setState({text:e.target.value}),this.props.config.events&&this.props.config.events.onChange&&this.changeEventValueSubject.next(e.target.value)}handleChangeSubject(value){var params=Input_objectSpread({},this.props.config.events.onChange,{text:value.text||value});EventsService.a.trigger(this.props.config.events.onChange.name,[Input_objectSpread({},params,{file:this.textInput.files}),Input_objectSpread({},this.props.config)])}handleKeyDown(e){if(this.props.config.events&&this.props.config.events.onKeyDown){var event=this.props.config.events.onKeyDown,params=Input_objectSpread({},this.props.config.events.onKeyDown,{},event,{text:e.target.value.text||e.target.value,altKey:e.altKey,charCode:e.charCode,ctrlKey:e.ctrlKey,key:e.key,keyCode:e.keyCode,locale:e.locale,location:e.location,metaKey:e.metaKey,repeat:e.repeat,shiftKey:e.shiftKey,which:e.which});EventsService.a.trigger(event.name,[params,Input_objectSpread({},this.props.config)])}}handleFocus(){this.setState({focus:!0})}handleBlur(){this.setState({focus:!1})}}function Iframe_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function Iframe_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Iframe_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Iframe_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}ComponentsFactory.a.add(()=>Input_Input,"Input");var Iframe_Block=__webpack_require__(60).Block;class Iframe_Iframe extends GenericReactComponentWrapper_GenericReactComponentWrapper{constructor(props){super(props),this.conditionalConfigMerge(),this.originalConfig=JSON.parse(JSON.stringify(props.config)),this.replaceConfigFunc(),this.state={hovered:!1},this.pref=ServiceFactory.a.get(Consts.Ib),this.state.iframeSettings=this.props.config.iframeSettings,this.handleClick=this.handleClick.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this)}replaceConfigFunc(){var extraFuncs=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],extraData=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var props=this.props,phFuncs=Array.isArray(props.config.placeHoldersFunctions)?[...props.config.placeHoldersFunctions,...extraFuncs]:extraFuncs,a=Object(Utils.S)(props.config,phFuncs,{},Iframe_objectSpread({},props.config,{},extraData));Object.assign(props.config,a)}catch(e){}}componentDidMount(){this.mounted=!0;var props=this.props;this.setDynamicAttributes(),register.bind(this)(props.config.behaviours)}componentWillUnmount(){this.mounted=!1;var props=this.props;unregister.bind(this)(props.config.behaviours)}render(){this.conditionalConfigMerge(!0),Object(Utils.T)(this.props.config);var containerProps={onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave};if(this.shouldHide())return null;var iframeSettings=this.props.config.iframeSettings,attr={src:this.state.src||this.props.config.src||iframeSettings.src||"",width:iframeSettings.width||"300px",height:iframeSettings.height||"300px",frameBorder:iframeSettings.frameBorder||"0",scrolling:iframeSettings.scrolling||"no",style:iframeSettings.style||{},title:iframeSettings.title||this._uniqueComponentId};iframeSettings.allowFullScreen&&(attr.allowFullScreen=iframeSettings.allowFullScreen);var iframeHtml=react.createElement("iframe",attr);return react.createElement(Iframe_Block,{style:Iframe_objectSpread({},this.props.config.style||{},{},this.state.style,{},this.state.hovered&&this.props.config.hover||this.props.hover&&this.props.config.parentHover?this.props.config.hover:{}),props:containerProps},iframeHtml)}handleMouseEnter(event){this.setState({hovered:!0}),this.props.config.events&&this.props.config.events.onMouseEnter&&(event.stopPropagation(),event.preventDefault(),EventsService.a.trigger(this.props.config.events.onMouseEnter.name,[Iframe_objectSpread({},this.props.config.events.onMouseEnter,{selfConfig:this.props.config,SelfOrigConfig:this.originalConfig,selfState:this.state,selfHideStatus:this.shouldHide()})]))}handleMouseLeave(event){this.setState({hovered:!1}),this.props.config.events&&this.props.config.events.onMouseLeave&&(event.stopPropagation(),event.preventDefault(),EventsService.a.trigger(this.props.config.events.onMouseLeave.name,[Iframe_objectSpread({},this.props.config.events.onMouseLeave,{selfConfig:this.props.config,SelfOrigConfig:this.originalConfig,selfState:this.state,selfHideStatus:this.shouldHide()})]))}handleClick(event){if(this.props.config.events&&this.props.config.events.onClick){var addedParams={active:this.state.active},params=Iframe_objectSpread({},addedParams=void 0===addedParams.active?null:addedParams,{},this.props.config.events.onClick,{selfConfig:this.props.config,SelfOrigConfig:this.originalConfig,selfState:this.state,selfHideStatus:this.shouldHide()});event.stopPropagation(),EventsService.a.trigger(this.props.config.events.onClick.name,[params,Iframe_objectSpread({},this.props.config)])}this.props.onClick&&this.props.onClick(event)}}ComponentsFactory.a.add(()=>Iframe_Iframe,"Iframe");class Separator_Separator extends react_default.a.Component{constructor(props){super(props),this.props.config.hide&&(this.render=()=>null),this.configurable={style:get_default()(this.props,"config.style",{})}}render(){return react_default.a.createElement("hr",{style:this.configurable.style})}}function ItemsContainer_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function ItemsContainer_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ItemsContainer_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ItemsContainer_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}ComponentsFactory.a.add(()=>Separator_Separator,"Separator");var ItemsContainer_Block=__webpack_require__(60).Block;class ItemsContainer_ItemsContainer extends GenericReactComponentWrapper_GenericReactComponentWrapper{componentDidMount(){this.mounted=!0,this.setDynamicAttributes()}componentWillUnmount(){this.mounted=!1}createComponents(){var childrenComponents;if(this.props.config.components){var components=this.props.config.components,itemStyle=this.props.config.itemStyle;childrenComponents=Object.keys(this.props.config.components).map(componentKey=>{var ComponentObject=ComponentsFactory.a.createComponent("Item"),config=ItemsContainer_objectSpread({},components[componentKey]);return config.style=ItemsContainer_objectSpread({},itemStyle,{},components[componentKey].style),react.createElement(ComponentObject,{key:componentKey,config:config})})}return childrenComponents}render(){var children=this.createComponents();return react.createElement(ItemsContainer_Block,{style:this.props.config.style},children)}}function DropDown_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function DropDown_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?DropDown_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):DropDown_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}ComponentsFactory.a.add(()=>ItemsContainer_ItemsContainer,"ItemsContainer");var DropDown_Block=__webpack_require__(60).Block;class DropDown_DropDown extends react.Component{constructor(props){super(props),this.state={selected:props.config?props.config.options[props.config.selectedOption]:{label:props.placeholder||"Select...",value:""},isOpen:!1,hovered:!1,menuItemHoveredIndex:-1},this.mounted=!0,this.handleDocumentClick=this.handleDocumentClick.bind(this),this.fireChangeEvent=this.fireChangeEvent.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this)}componentDidMount(){var props=this.props;if(this.mounted=!0,props.config.attributes){var elem=react_dom.findDOMNode(this);elem&&Object.keys(props.config.attributes).forEach(objectKey=>{elem.setAttribute(objectKey,props.config.attributes[objectKey])})}document.addEventListener("click",this.handleDocumentClick,!1)}componentWillReceiveProps(newProps){var state=this.state;newProps.config&&newProps.config.options[newProps.config.selectedOption]!==state.selected&&this.setState({selected:newProps.config.options[newProps.config.selectedOption]})}componentWillUnmount(){this.mounted=!1,document.removeEventListener("click",this.handleDocumentClick,!1)}getBorderByMenuState(){var state=this.state,props=this.props,config=props.config.style,defaultBorderRadius=config&&config.borderRadius&&+config.borderRadius.replace("px","");if(!isNaN(defaultBorderRadius)){var regularBorderRaduis=`${defaultBorderRadius}px`,dividedBorderRadius=`${defaultBorderRadius/2}px`;return state.isOpen&&props.config.isAnimate?{borderTopLeftRadius:regularBorderRaduis,borderTopRightRadius:regularBorderRaduis,borderBottomLeftRadius:dividedBorderRadius,borderBottomRightRadius:dividedBorderRadius}:{borderTopLeftRadius:regularBorderRaduis,borderTopRightRadius:regularBorderRaduis,borderBottomLeftRadius:regularBorderRaduis,borderBottomRightRadius:regularBorderRaduis}}return{}}getSelectedValueByConfig(){var state=this.state,props=this.props;return{value:"text"===props.config.optionView?state.selected.text:state.selected.label,selectedStyle:DropDown_objectSpread({},props.config.optionStyle,{},state.selected&&state.selected.style)}}setValue(option){var newState={selected:option,isOpen:!1};this.fireChangeEvent(newState),this.setState(newState)}handleMouseEnter(event){this.setState({hovered:!0})}handleMouseLeave(event){this.setState({hovered:!1})}handleItemMouseEnter(index){this.setState({menuItemHoveredIndex:index})}handleItemMouseLeave(){this.setState({menuItemHoveredIndex:-1})}handleDocumentClick(event){this.mounted&&(react_dom.findDOMNode(this).contains(event.target)||this.setState({isOpen:!1}))}handleMouseDown(event){if("mousedown"!==event.type||0===event.button){event.stopPropagation(),event.preventDefault();var newStatus=!this.state.isOpen;this.setState({isOpen:newStatus})}}fireChangeEvent(newState){var props=this.props,state=this.state;newState.selected!==state.selected&&props.onChange&&props.onChange(newState.selected)}renderOption(option,index){var props=this.props,state=this.state,value=option.value||option.label||option,label=option.label||("string"==typeof option?option:" "),separator=index>0?react.createElement(DropDown_Block,{style:props.config.optionSeparatorStyle}):null,optionHoverStyle=state.menuItemHoveredIndex===index&&props.config.optionHoverStyle?props.config.optionHoverStyle:{};return react.createElement(DropDown_Block,{key:value},separator,react.createElement("div",{style:DropDown_objectSpread({},option.style,{},props.config.optionStyle,{},optionHoverStyle),onMouseDown:this.setValue.bind(this,option),onClick:this.setValue.bind(this,option),onMouseEnter:()=>this.handleItemMouseEnter(index),onMouseLeave:()=>this.handleItemMouseLeave(index)},"text"===props.config.optionView?option.text:label))}renderMenu(){var state=this.state,ops=this.props.config.options.map((option,index)=>state.selected===option?null:this.renderOption(option,index));return ops.length?ops:react.createElement("div",null,"No options found")}render(){var containerProps={onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:this.handleMouseLeave.bind(this)},state=this.state,props=this.props,_this$getSelectedValu=this.getSelectedValueByConfig(),value=_this$getSelectedValu.value,selectedStyle=_this$getSelectedValu.selectedStyle,menu=state.isOpen?react.createElement(DropDown_Block,null,this.renderMenu()):null,containerHoverStyle=state.hovered&&props.config.hover||props.hover&&props.config.parentHover?props.config.hover:{},displayStyleToggle={display:state.isOpen?"block":"none"};return react.createElement(DropDown_Block,{style:DropDown_objectSpread({},props.config.style?props.config.style:{},{},state.style,{},containerHoverStyle,{},this.getBorderByMenuState()),props:containerProps},react.createElement("div",{onMouseDown:this.handleMouseDown.bind(this),style:selectedStyle},value),react.createElement(DropDown_Block,{style:DropDown_objectSpread({},props.config.optionsContainerStyle,{},displayStyleToggle)},menu))}}function SearchEngineSelect_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function SearchEngineSelect_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?SearchEngineSelect_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):SearchEngineSelect_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}DropDown_DropDown.defaultProps={baseClassName:"Dropdown"},ComponentsFactory.a.add(()=>DropDown_DropDown,"DropDown");class SearchEngineSelect_SearchEngineSelect extends GenericReactComponentWrapper_GenericReactComponentWrapper{constructor(props){super(props),this.search=ServiceFactory.a.get(Consts.Wb),this.state={options:this.searchEngines2Options(),selectedOption:this.search.getTempOrCurrentSearchEngineIndex()},this.handleClick=this.handleClick.bind(this)}render(){var state=this.getStateWithTempOrCurrentEngine();return react.createElement(DropDown_DropDown,{config:state,onChange:this.handleClick})}getStateWithTempOrCurrentEngine(){return SearchEngineSelect_objectSpread({},this.props.config,{},this.state,{selectedOption:this.search.getTempOrCurrentSearchEngineIndex()})}componentDidMount(){this.mounted=!0,this.setDynamicAttributes()}componentWillUnmount(){this.mounted=!1}handleClick(selectedOption){if(this.search.setCurrentSearchEngine(selectedOption.value),this.setState({selectedOption:this.search.getTempOrCurrentSearchEngineIndex()}),this.props.config.events&&this.props.config.events.onChange){var params=SearchEngineSelect_objectSpread({},this.props.config.events.onChange),engineId={engineId:this.search.getEngines()[this.search.getTempOrCurrentSearchEngineIndex()].id};EventsService.a.trigger(this.props.config.events.onChange.name,[SearchEngineSelect_objectSpread({},params,{},this.props.config,{},engineId)])}}searchEngines2Options(){for(var options=[],engines=this.search.getEngines(),i=0;i<Object.keys(engines).length;i++){var item=engines[i],style=this.setStyle(item);options.push({label:item.logo?"":item.shortName,text:item.shortName||item.id||"",value:item.id,style:style})}return options}setStyle(item){return"text"===this.props.config.optionView?{color:item.engineColor||this.props.config.defaultEngineColor}:item.logo?{backgroundImage:`url(content/images/${item.logo})`}:{}}}function SearchAutoSuggest_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function SearchAutoSuggest_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?SearchAutoSuggest_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):SearchAutoSuggest_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}ComponentsFactory.a.add(()=>SearchEngineSelect_SearchEngineSelect,"SearchEngineSelect");var SearchAutoSuggest_Block=__webpack_require__(60).Block;class SearchAutoSuggest_SearchAutoSuggest extends GenericReactComponentWrapper_GenericReactComponentWrapper{constructor(props){super(props),this.search=ServiceFactory.a.get(Consts.Wb),this.state={rows:[],selected:-1,style:{}}}componentWillUpdate(nextProps,nextState){if(nextProps.config.forceSearchToFirstExternalSuggest&&nextState.rowsChanged){nextState.rowsChanged=!1;var firstExternalResults=nextState.rows.find(suggestObject=>this.isObjectFromExternalAPI(suggestObject));if(firstExternalResults)ServiceFactory.a.get(Consts.Wb).setSearchObject(nextProps.config.stringId,{clickUrl:firstExternalResults.clickUrl,tracking:firstExternalResults.tracking})}}componentDidMount(){this.mounted=!0,this.setDynamicAttributes(),register.bind(this)(this.props.config.behaviours)}componentWillUnmount(){this.mounted=!1,unregister.bind(this)(this.props.config.behaviours)}handleMouseEnter(args){this.setState({selected:args[0]})}handleMouseClick(){var selectedObject=this.state.rows[this.state.selected];if(Object(Utils.F)(selectedObject)||(selectedObject={text:selectedObject}),EventsService.a.trigger(Consts.f,[selectedObject]),this.props.config.events&&this.props.config.events.onClick){var params=SearchAutoSuggest_objectSpread({},this.props.config.events.onClick,{},selectedObject,{searchObject:selectedObject});EventsService.a.trigger(this.props.config.events.onClick.name,[params,SearchAutoSuggest_objectSpread({},this.props.config)])}}isObjectFromExternalAPI(object){return"defaultSuggest"!==object.__listId}renderRows(){var self=this,dir=this.props.config.direction||"ltr",firstExternalSuggestDisplayed=!1,rowStyleFirstForced=SearchAutoSuggest_objectSpread({},self.props.config.rowStyleFirstForced||{}),rowStyleFirstForcedExists=rowStyleFirstForced&&!Object(Utils.G)(rowStyleFirstForced),rowStyleSelected=SearchAutoSuggest_objectSpread({},self.props.config.rowStyleSelected||{}),rowStyleSelectedExists=rowStyleSelected&&!Object(Utils.G)(rowStyleSelected);return this.state.rows.map((row,id)=>{var suggestObject=Object(Utils.F)(row)?row:{text:row};if(!suggestObject.text)return null;var rowStyle={},externalSuggest=self.isObjectFromExternalAPI(row);rowStyleFirstForcedExists&&!firstExternalSuggestDisplayed&&externalSuggest?(firstExternalSuggestDisplayed=!0,rowStyle=rowStyleFirstForced):rowStyle=rowStyleSelectedExists&&self.state.selected===id?rowStyleSelected:SearchAutoSuggest_objectSpread({},self.props.config.rowStyle),Object.assign(rowStyle,{display:"flex",flexDirection:"row",alignItems:"center"});var imageComp=self.getImageComponent(suggestObject.image||suggestObject.imageUrl),keywordStyle=self.props.config.keywordStyle||!1;keywordStyle=keywordStyle||{};var suggestTextSplitted=Object(Utils.cb)(suggestObject.text,self.query),rowID=`${self._uniqueComponentId}_${id}`;return react.createElement("div",{key:rowID,dir:dir,style:rowStyle,onMouseEnter:self.handleMouseEnter.bind(self,[id]),onClick:self.handleMouseClick.bind(self,[id])},imageComp,self.getSpaceBetweenComponent(imageComp),suggestTextSplitted[0],react.createElement("span",{style:keywordStyle},suggestTextSplitted[1]),suggestTextSplitted[2])})}getImageComponent(imageUrl){if(!this.props.config.iconSettings)return null;if(Object(Utils.C)(this.props.config.iconSettings.mode))return null;var style=SearchAutoSuggest_objectSpread({height:this.props.config.rowStyle.height||"auto"},this.props.config.iconSettings.style);switch(this.props.config.iconSettings.mode){case"enable":var imageSrc=imageUrl||(Object(Utils.C)(this.props.config.iconSettings.fallbackImage)?Consts.rc:this.props.config.iconSettings.fallbackImage);return react.createElement("img",{alt:"",style:style,src:imageSrc});case"enableExceptMissingImages":return imageUrl?react.createElement("img",{alt:"",style:style,src:imageUrl}):null;default:return null}}getSpaceBetweenComponent(imageComp){return imageComp?react.createElement("span",{style:{width:this.props.config.iconSettings.spaceBetween||"5px"}}):null}render(){var component=null;return!this.props.config.hide&&this.state.rows.length>0&&(component=react.createElement(SearchAutoSuggest_Block,{style:SearchAutoSuggest_objectSpread({},this.props.config.style,{},this.state.style)},this.renderRows())),component}}function SupportButton_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function SupportButton_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?SupportButton_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):SupportButton_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}ComponentsFactory.a.add(()=>SearchAutoSuggest_SearchAutoSuggest,"SearchAutoSuggest");var SupportButton_require=__webpack_require__(60),InlineBlock=SupportButton_require.InlineBlock,SupportButton_Block=SupportButton_require.Block;class SupportButton_SupportButton extends GenericReactComponentWrapper_GenericReactComponentWrapper{constructor(props){super(props),this.state={isOpen:!1,menuStyle:{}},this.handleSupportButtonClick=this.handleSupportButtonClick.bind(this)}componentDidMount(){this.mounted=!0,this.setDynamicAttributes(),register.bind(this)(this.props.config.behaviours)}componentWillUnmount(){this.mounted=!1,unregister.bind(this)(this.props.config.behaviours)}handleSupportButtonClick(){var newState={isOpen:!this.state.isOpen};this.setState(newState)}renderMenu(){var props=this.props,state=this.state,components=props.config.components,menu=Object.keys(components).map(key=>{var component=components[key],ComponentObject=ComponentsFactory.a.createComponent(component.type);return react.createElement(SupportButton_Block,{key:key},react.createElement(ComponentObject,{config:component}))});return react.createElement(SupportButton_Block,{style:SupportButton_objectSpread({},props.config.menuStyle,{},state.menuStyle),key:"menu"},menu)}render(){var props=this.props,menu=this.state.isOpen?this.renderMenu():null;return props.config.animateClass&&(menu=react.createElement(react_addons_css_transition_group_default.a,{transitionName:props.config.animateClass,transitionEnterTimeout:0,transitionLeaveTimeout:0},menu)),react.createElement(InlineBlock,null,react.createElement(Item_Item,{onClick:this.handleSupportButtonClick,config:props.config}),menu)}}function IntervalComponents_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function IntervalComponents_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?IntervalComponents_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):IntervalComponents_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}ComponentsFactory.a.add(()=>SupportButton_SupportButton,"SupportButton");var IntervalComponents_Block=__webpack_require__(60).Block;class IntervalComponents_IntervalComponents extends GenericReactComponentWrapper_GenericReactComponentWrapper{constructor(props){super(props),this.state={hovered:!1,currentComponent:0,style:{},componentsState:{},activeComponents:[],inactiveComponents:[]},this.isIntervalComponent=!0,this.combinedStates={},this.pref=ServiceFactory.a.get(Consts.Ib),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.updateConfigFromConfig(),this.updateConfigFromState(),this.updateConfigFromLocalStorage(),this.populateStateArraysFromConfig(),this.insertStateIntoLocalStorage(),this.handleClick=this.handleClick.bind(this)}updateConfigFromConfig(){if(this.props.config.components){var comps=this.props.config.components,internalConfig={};for(var i in comps)if(has_default()(comps,i)&&comps[i].id){var comp=comps[i];internalConfig[comp.id]=!(has_default()(comp,"active")&&!comp.active)}Object.assign(this.combinedStates,internalConfig)}}updateConfigFromState(){Object.assign(this.combinedStates,this.state.componentsState)}updateConfigFromLocalStorage(){var localStorageConfig=!!this.props.config.localStorageKey&&this.pref.get(this.props.config.localStorageKey);localStorageConfig&&"object"==typeof localStorageConfig&&Object.assign(this.combinedStates,localStorageConfig)}populateStateArraysFromConfig(){if(this.props.config.components){var compsObj={},compsArr=this.props.config.components;for(var i in compsArr)compsArr[i].id&&(compsObj[compsArr[i].id]=compsArr[i]);for(var id in this.state.activeComponents=[],this.state.inactiveComponents=[],this.combinedStates)compsObj[id]&&(this.combinedStates[id]&&!1!==compsObj[id].active?this.state.activeComponents.push(compsObj[id]):this.state.inactiveComponents.push(compsObj.id))}}insertStateIntoLocalStorage(){this.props.config.localStorageKey&&this.pref.set(this.props.config.localStorageKey,this.combinedStates)}componentDidMount(){this.mounted=!0,this.startInterval(),this.setDynamicAttributes(),register.bind(this)(this.props.config.behaviours)}componentWillUnmount(){this.mounted=!1,this.clearInterval(),unregister.bind(this)(this.props.config.behaviours)}handleMouseEnter(event){this.setState({hovered:!0}),this.clearInterval()}handleMouseLeave(event){this.setState({hovered:!1}),this.startInterval()}startInterval(){var self=this,interval=self.props.config.interval||1e3;this.clearInterval(),this.interval=setInterval(()=>{self.updateConfigFromState(),self.populateStateArraysFromConfig(),self.setState({currentComponent:self.nextComponentKey()})},interval)}clearInterval(){this.interval&&clearInterval(this.interval)}renderComponent(){var components=this.state.activeComponents;if(!components.length)return null;var currentComponentKey=Object.keys(components)[this.state.currentComponent],CurrentComponent=ComponentsFactory.a.createComponent(components[currentComponentKey].type),componentConfig=components[currentComponentKey];return react.createElement(CurrentComponent,{config:componentConfig,key:currentComponentKey})}renderButton(){var components=this.state.activeComponents;if(!components.length)return null;var currentComponentKey=this.nextComponentKey(),componentConfig=components[currentComponentKey].button,Button=ComponentsFactory.a.createComponent(componentConfig.type);return componentConfig=IntervalComponents_objectSpread({},componentConfig),react.createElement(Button,{config:componentConfig,onClick:this.handleClick,key:currentComponentKey})}componentWillUpdate(nextProps){}render(){if(0===this.state.activeComponents.length)return null;var currentButton=this.renderButton(),currentComponent=this.renderComponent(),containerProps={onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:this.handleMouseLeave.bind(this)};return react.createElement(IntervalComponents_Block,{props:containerProps,style:IntervalComponents_objectSpread({},this.props.config.style,{},this.state.style)},react.createElement(react_addons_css_transition_group_default.a,{transitionName:this.props.config.animateClass,transitionAppear:!0,transitionAppearTimeout:0,transitionEnterTimeout:0,transitionLeaveTimeout:0},currentButton),react.createElement(react_addons_css_transition_group_default.a,{transitionName:this.props.config.animateClass,transitionAppear:!0,transitionAppearTimeout:0,transitionEnterTimeout:0,transitionLeaveTimeout:0},currentComponent))}handleClick(){this.clearInterval(),this.setState({currentComponent:this.nextComponentKey()}),this.startInterval()}nextComponentKey(){var comp=0;return 1===this.state.activeComponents.length?comp:(this.state.currentComponent+1>=Object.keys(this.state.activeComponents).length||(comp=this.state.currentComponent+1),comp)}}function Popup_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}ComponentsFactory.a.add(()=>IntervalComponents_IntervalComponents,"IntervalComponents");var Popup_Block=__webpack_require__(60).Block;class Popup_Popup extends GenericReactComponentWrapper_GenericReactComponentWrapper{constructor(props){super(props),this.state={isOpen:!1},this.popupComponentKey=!1}componentDidMount(){this.mounted=!0,this.setDynamicAttributes(),register.bind(this)(this.props.config.behaviours)}componentWillUnmount(){this.mounted=!1,unregister.bind(this)(this.props.config.behaviours)}renderPopup(){var components=this.props.config.components,PopupComponent=ComponentsFactory.a.createComponent(components.popup.type);return this.popupComponentKey=this.popupComponentKey||Object(index_esm.a)(),react.createElement(PopupComponent,{config:components.popup,key:this.popupComponentKey})}render(){var popupComponent=this.state.isOpen?this.renderPopup():null,Button=ComponentsFactory.a.createComponent(this.props.config.components.button.type),buttonComponent=Button?react.createElement(Button,{config:this.props.config.components.button}):null;this.props.config.animateClass&&(popupComponent=react.createElement(react_addons_css_transition_group_default.a,{transitionName:this.props.config.animateClass,transitionAppear:!0,transitionAppearTimeout:0,transitionEnterTimeout:0,transitionLeaveTimeout:0},popupComponent));var currentStyle=this.props.config.style;return this.state.style&&(currentStyle=function Popup_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Popup_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Popup_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},this.props.config.style,{},this.state.style)),react.createElement(Popup_Block,{style:currentStyle},buttonComponent,popupComponent)}}ComponentsFactory.a.add(()=>Popup_Popup,"Popup");var Clock_InlineBlock=__webpack_require__(60).InlineBlock;class Clock_Clock extends GenericReactComponentWrapper_GenericReactComponentWrapper{constructor(props){super(props),this.state={hide:props.config.hide}}componentWillReceiveProps(nextProps){this.state.hide!==nextProps.config.hide&&this.setState({hide:nextProps.config.hide})}componentDidMount(){this.mounted=!0,this.setDynamicAttributes(),this.startInterval()}componentWillUnmount(){this.mounted=!1,this.clearInterval()}clearInterval(){this.interval&&clearInterval(this.interval)}startInterval(){var self=this;this.clearInterval(),this.interval=setInterval(()=>{self.forceUpdate()},self.props.config.interval||1e4)}render(){if(this.shouldHide())return this.props.config.animateClass?this.getAnimatedComponent():null;var component,prefService=ServiceFactory.a.get(Consts.Ib),dateFormat="{{DATE_FORMAT}}"!==prefService.get(Consts.I)?prefService.get(Consts.I):"{{d}}.{{m}}.{{y}}",d=new Date,hour=`${d.getHours()}:${`0${d.getMinutes()}`.slice(-2)}`,day=BrowserService.a.getTranslationOnlyIfExist(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][d.getDay()],prefService.get(Consts.qc)),num=dateFormat.replace("{{m}}",d.getMonth()+1).replace("{{d}}",d.getDate()).replace("{{y}}",d.getFullYear()),txt=BrowserService.a.getTranslationOnlyIfExist(this.props.config.text,prefService.get(Consts.qc));return component=react.createElement(Clock_InlineBlock,{style:this.props.config.style?this.props.config.style:{},key:"clock",onClick:this.props.onClick},txt,react.createElement(Clock_InlineBlock,{style:this.props.config.hourStyle},hour),react.createElement(Clock_InlineBlock,{style:this.props.config.dateStyle},react.createElement("p",{style:this.props.config.dayStyle},day),react.createElement("p",{style:this.props.config.numStyle},num))),this.props.config.animateClass?this.getAnimatedComponent(component):component}getAnimatedComponent(){var baseComponent=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return react.createElement(react_addons_css_transition_group_default.a,{component:common_FirstChild,transitionName:this.props.config.animateClass,transitionAppear:!0,transitionAppearTimeout:0,transitionEnterTimeout:0,transitionLeaveTimeout:0},baseComponent)}}function Weather_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function Weather_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Weather_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Weather_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}ComponentsFactory.a.add(()=>Clock_Clock,"Clock");var Weather_require=__webpack_require__(60),Weather_InlineBlock=Weather_require.InlineBlock,Weather_Block=Weather_require.Block;class Weather_Weather extends GenericReactComponentWrapper_GenericReactComponentWrapper{constructor(props){super(props);var prefService=ServiceFactory.a.get(Consts.Ib);this.state={isCelsius:"imperial"!==prefService.get(Consts.yc),city:prefService.get(Consts.v),icon:"",style:{},iconStyle:{}},this.state.temperature=this.state.isCelsius?24:75,this.handleChangeDegrees=this.handleChangeDegrees.bind(this)}componentDidMount(){this.mounted=!0,register.bind(this)(this.props.config.behaviours),EventsService.a.trigger(Consts.xc,[]),this.setDynamicAttributes()}componentWillUnmount(){this.mounted=!1,unregister.bind(this)(this.props.config.behaviours)}handleChangeDegrees(){var prefService=ServiceFactory.a.get(Consts.Ib),newUnit=this.state.isCelsius?"imperial":"metric";prefService.set(Consts.yc,newUnit),this.props.config.events.onUnitsChange&&EventsService.a.trigger(this.props.config.events.onUnitsChange.name,[{unit:newUnit}])}render(){if(this.shouldHide())return this.props.config.animateClass?this.getAnimatedComponent():null;var prefService=ServiceFactory.a.get(Consts.Ib),temperature=this.state.temperature,iconStyle=Weather_objectSpread({},this.props.config.iconStyle,{},this.state.iconStyle,{backgroundImage:this.state.icon}),city=this.state.city,unitsProp={onClick:this.handleChangeDegrees},degrees=BrowserService.a.getTranslationOnlyIfExist(this.state.isCelsius?"C":"F",prefService.get(Consts.qc)),component=react.createElement(Weather_InlineBlock,{style:Weather_objectSpread({},this.props.config.style?this.props.config.style:{},{},this.state.style),key:"clock",onClick:this.props.onClick},react.createElement(Weather_Block,{style:this.props.config.tempStyle},react.createElement(Weather_InlineBlock,null,temperature),react.createElement(Weather_InlineBlock,{style:this.props.config.degStyle},""),react.createElement(Weather_Block,{style:this.props.config.unitsStyle,props:unitsProp},degrees)),react.createElement(Weather_InlineBlock,{style:this.props.config.frightStyle},react.createElement(Weather_Block,{style:iconStyle}),react.createElement(Weather_InlineBlock,{style:this.props.config.cityStyle},city)));return this.props.config.animateClass?this.getAnimatedComponent(component):component}getAnimatedComponent(){var baseComponent=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return react.createElement(react_addons_css_transition_group_default.a,{transitionName:this.props.config.animateClass,transitionAppear:!0,transitionAppearTimeout:0,transitionEnterTimeout:0,transitionLeaveTimeout:0},baseComponent)}}function Image_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function Image_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Image_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Image_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}ComponentsFactory.a.add(()=>Weather_Weather,"Weather");class Image_Image extends GenericReactComponentWrapper_GenericReactComponentWrapper{constructor(props){super(props),this.conditionalConfigMerge(),this.originalConfig=JSON.parse(JSON.stringify(props.config)),this.replaceConfigFunc(),this.state={style:{}},this.fallbackImage="content/image/transparent_img.png",this.dataAuto=this.getDataAutoAttr(props),this.handleClick=this.handleClick.bind(this)}replaceConfigFunc(){var extraFuncs=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],extraData=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{if(Object(Utils.z)(this.originalConfig.placeHoldersFunctions)){var phFuncs=Object(Utils.z)(extraFuncs)?[...this.originalConfig.placeHoldersFunctions,...extraFuncs]:this.originalConfig.placeHoldersFunctions,a=Object(Utils.S)(this.originalConfig,phFuncs,{},Image_objectSpread({},this.originalConfig,{},extraData));Object.assign(this.props.config,a)}}catch(e){}}componentDidMount(){this.mounted=!0,this.setDynamicAttributes(),register.bind(this)(this.props.config.behaviours),this.props.config.events&&this.props.config.events.onMount&&EventsService.a.trigger(this.props.config.events.onMount.name,[Image_objectSpread({},this.props.config.events.onMount,{selfConfig:this.props.config,SelfOrigConfig:this.originalConfig,selfState:this.state,selfHideStatus:this.shouldHide()})])}componentWillUnmount(){this.mounted=!1,unregister.bind(this)(this.props.config.behaviours)}render(){if(this.conditionalConfigMerge(!0),Object(Utils.T)(this.props.config),this.shouldHide())return null;var style=Image_objectSpread({},this.props.config.style||{},{},this.state.style||{},{},this.props.config.hover&&Object.keys(this.props.config.hover).length&&this.state.hovered?this.props.config.hover:{}),imgSrc=this.props.config.dynamic?this.getCurrentImage():this.props.config.image_location,parentStyle=Image_objectSpread({},this.props.config.parentStyle||{},{},this.state.parentStyle||{});if(this.props.config.options){var state=ServiceFactory.a.get(Consts.Ib).get(this.props.config.key);imgSrc=this.props.config.options[state].image_location}if(!imgSrc)return null;var childImage=react.createElement("img",{alt:"","data-auto":this.dataAuto,onClick:this.handleClick,style:style,src:imgSrc}),elem=react.createElement("div",{style:parentStyle},childImage),animation=this.state.animateClass||this.props.config.animateClass;return animation&&(elem=react.createElement("div",{style:parentStyle},react.createElement(react_addons_css_transition_group_default.a,{transitionName:animation,transitionAppear:!0,transitionAppearTimeout:0,transitionEnterTimeout:0,transitionLeaveTimeout:0},childImage))),elem}getCurrentImage(){var image=!1,lsImage=localStorage[this.props.config.image_key]||"",ignoreImagePath=this.props.config.ignoreImagePath||["http","data:"];return!(image=this.state.image&&!Object(Utils.M)(this.state.image.src)?this.state.image.src:this.props.config.image_path&&""!==lsImage&&!Object(Utils.fb)(lsImage,ignoreImagePath)?this.props.config.image_path+lsImage:lsImage)&&this.props.config.fallback_image&&(image=this.props.config.fallback_image),Object(Utils.w)(image,!1)}handleClick(event){if(this.props.config.events&&this.props.config.events.onClick){event.stopPropagation();var params=Image_objectSpread({},this.props.config.events.onClick,{selfConfig:this.props.config,SelfOrigConfig:this.originalConfig,selfState:this.state,selfHideStatus:this.shouldHide()});EventsService.a.trigger(this.props.config.events.onClick.name,[params,this.props.config])}this.props.onClick&&this.props.onClick(event)}}function SideMenu_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function SideMenu_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?SideMenu_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):SideMenu_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}ComponentsFactory.a.add(()=>Image_Image,"Image");class SideMenu_SideMenu extends GenericReactComponentWrapper_GenericReactComponentWrapper{constructor(props){super(props);var containerWidth=parseInt(props.config.style.width,10)||0,wrapperStyleWidth=containerWidth+36,containerStyleHide=-1*containerWidth;this.wrapperStyle={position:"relative",top:"30px",width:`${wrapperStyleWidth}px`,height:"100%",transition:"left .4s ease"},this.widgetContainerStyle={width:`${containerWidth}px`,height:"100%",zIndex:"10",transition:"1s",flexFlow:"row nowrap",userSelect:"none"},this.hideWidgetContainerStyle={left:`${containerStyleHide}px`},this.showWidgetContainer={left:"0px"},this.buttonStyle={position:"absolute",background:"url(/../content/images/converter/tab-arrow-FF691E.svg) no-repeat",width:"36px",height:"36px",right:"0",top:"0",zIndex:"11",cursor:"pointer",transition:"transform .4s ease"},this.hideButtonStyle={transform:"rotate(180deg)"},this.showButtonStyle={transform:"rotate(0deg)"},this.state={toggleSideMenu:!1},this.toggleWidgetContainer={false:this.hideWidgetContainerStyle,true:this.showWidgetContainer},this.finalButtonStyle={false:this.hideButtonStyle,true:this.showButtonStyle},this.buttonTrack={false:"close",true:"open"}}handleClick(){var state=this.state,toggleSideMenu=!state.toggleSideMenu;this.setState({toggleSideMenu:toggleSideMenu}),this.wrapperStyle=SideMenu_objectSpread({},this.wrapperStyle,{},this.toggleWidgetContainer[state.toggleSideMenu]),this.buttonStyle=SideMenu_objectSpread({},this.buttonStyle,{},this.finalButtonStyle[state.toggleSideMenu]);var trackAction=this.buttonTrack[state.toggleSideMenu];ServiceFactory.a.get(Consts.oc).trackStatusEvent("side_menu_widget","button_click",trackAction,{},null,null,{})}render(){var children=this.createComponents(),widgetContainer=react.createElement("div",{key:this.id,style:this.widgetContainerStyle},children),openCloseButton=react.createElement("img",{alt:"",onClick:this.handleClick.bind(this),style:this.buttonStyle});return react.createElement("div",{style:this.wrapperStyle},openCloseButton,widgetContainer)}createComponents(){var childrenComponents,self=this;if(this.props.config.components){var components=this.getMergedChildrenProps(),forceReplace=this.forceReplace||this.props.forceReplace;childrenComponents=Object.keys(this.props.config.components).map(componentKey=>{if(Object(Utils.F)(components[componentKey])&&components[componentKey].type){if(components[componentKey].renderForEach)return self.createComponentForEach(components[componentKey],componentKey);var ComponentObject=ComponentsFactory.a.createComponent(components[componentKey].type);return react.createElement(ComponentObject,{key:componentKey,config:components[componentKey],forceReplace:forceReplace})}return null})}return childrenComponents}}function DropdownRedirectLinks_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function DropdownRedirectLinks_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?DropdownRedirectLinks_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):DropdownRedirectLinks_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}ComponentsFactory.a.add(()=>SideMenu_SideMenu,"SideMenu");class DropdownRedirectLinks_DropdownRedirectLinks extends react.Component{constructor(props){super(props),this.wrapperStyle={margin:"0px 0px 0px 25px",display:"flex",flexDirection:"row",alignItems:"center",width:"135px",height:"30px",backgroundColor:"#fefefe",justifyContent:"space-between",fontFamily:"sans-serif",borderRadius:"3px",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.07)"},this.linkStyle={float:"none",padding:"8px 16px 6px 6px",textDecoration:"none",display:"block",textAlign:"left",color:"#4386fc",letterSpacing:"-0.2px",fontFamily:"sans-serif"},this.linkLogoStyle={height:"14px",padding:"0 6px 0 0"},this.linkContainerStyle={top:"90%",position:"absolute",maxWidth:"400px",overflow:"hidden",boxShadow:"0 1px 1px 0 rgba(0, 0, 0, 0.26)",minWidth:"135px",backgroundColor:"#fefefe"},this.buttonContainerStyle={verticalAlign:"middle",width:"100%",padding:"0px 5px 0px 5px"},this.buttonLogoStyle={width:"12px",height:"6px",float:"right",textAlign:"center",verticalAlign:"middle",margin:"5px"},this.buttonTextStyle={color:"#4386fc",fontSize:"13px",letterSpacing:"-0.2px",marginLeft:"7px",textAlign:"center",verticalAlign:"middle"},this.hoverLinkStyle={backgroundColor:"#f2f2f2"},this.wrapperStyle=this.getStyle(this.wrapperStyle,"backgroundColor","buttonBackgroundColor"),this.wrapperStyle=this.getStyle(this.wrapperStyle,"height","buttonHeight"),this.linkContainerStyle=this.getStyle(this.linkContainerStyle,"top","dropdownTop"),this.linkContainerStyle=this.getStyle(this.linkContainerStyle,"backgroundColor","linkBackgroundColor"),this.state={showComponent:!1,hoveredLinkIndex:void 0},this.eventType="toolbar_button_click",this.buttonTrack={false:"open",true:"close"}}componentDidMount(){document.addEventListener("click",this.handleClickOutsideComponent.bind(this))}componentWillUnmount(){document.removeEventListener("click",this.handleClickOutsideComponent.bind(this))}getStyle(baseStyle,styleKey,styleKeyInConfig){var additionToStyle=this.props.config.style[styleKeyInConfig]||!1;return additionToStyle?DropdownRedirectLinks_objectSpread({},baseStyle,{[styleKey]:additionToStyle}):baseStyle}handleLinkClick(linkText){ServiceFactory.a.get(Consts.oc).trackStatusEvent(this.eventType,"toolbar_menu_link_click",linkText,null,null,null,{})}handleClick(){var state=this.state,showNewState=!state.showComponent;this.setState({showComponent:showNewState});var trackAction=this.buttonTrack[state.showComponent];ServiceFactory.a.get(Consts.oc).trackStatusEvent(this.eventType,"DropDown",trackAction,null,null,null,{})}handleClickOutsideComponent(event){this.isClickOutsideComponent(event)&&this.hideLinks()}isClickOutsideComponent(clickEvent){return!react_dom.findDOMNode(this).contains(clickEvent.target||clickEvent[0]&&clickEvent[0].target)}hideLinks(){this.setState({showComponent:!1})}markLinkAsHovered(index){this.setState({hoveredLinkIndex:index})}markLinkAsUnHovered(){this.setState({hoveredLinkIndex:void 0})}createLinks(hoveredLinkIndex){var _this=this,returnHTML=[],props=this.props,state=this.state;if(!props.config.links||!state.showComponent)return returnHTML;for(var links=props.config.links,numOfLinks=links.length,_loop=function _loop(i){var linkUrl=links[i].linkUrl,linkLogo=links[i].linkLogo,linkText=links[i].linkText,linkStyle=_this.linkStyle;hoveredLinkIndex===i&&(linkStyle=DropdownRedirectLinks_objectSpread({},_this.linkStyle,{},_this.hoverLinkStyle));var HTMLLink=react.createElement("a",{onMouseEnter:()=>{_this.markLinkAsHovered(i)},onMouseLeave:()=>{_this.markLinkAsUnHovered()},onClick:()=>{_this.handleLinkClick(linkText)},key:i,target:"_blank",rel:"noopener noreferrer",href:linkUrl,style:linkStyle},react.createElement("img",{alt:"",src:linkLogo,style:_this.linkLogoStyle}),linkText);returnHTML.push(HTMLLink)},i=0;i<numOfLinks;i++)_loop(i);return returnHTML}render(){var props=this.props,state=this.state,links=this.createLinks(state.hoveredLinkIndex);return react.createElement("div",{style:this.wrapperStyle},react.createElement("div",{onClick:this.handleClick.bind(this),style:this.buttonContainerStyle},react.createElement("span",{style:this.buttonTextStyle},props.config.buttonText),react.createElement("img",{alt:"",src:props.config.buttonLogo,style:this.buttonLogoStyle})),react.createElement("div",{style:this.linkContainerStyle},links))}}ComponentsFactory.a.add(()=>DropdownRedirectLinks_DropdownRedirectLinks,"DropdownRedirectLinks");__webpack_require__(124);var styled_components_browser_esm=__webpack_require__(106),StyledSearchOption=styled_components_browser_esm.a.div`

  display: flex;
  justify-content: left;
  align-items: center;
  height: 27px;
  padding-left: 16px;
  img.avatar {
    display: inline-block;
    width: 20px;
    height: 20px;
    background-size: cover;
    background-position: top center;
    border-radius: 50%;
    margin-right: 5px;
  }

   span {
    font-size: 14px;
    font-weight: 600;
  }

`,QuickSearch_SearchOption=_ref=>{var option=_ref.option,onClick=_ref.onClick,titleTextColor=option.titleTextColor,iconUri=option.iconUri,title=option.title,inlineStyle=titleTextColor?{color:titleTextColor}:{};return react_default.a.createElement("div",{onClick:onClick},react_default.a.createElement(StyledSearchOption,null,iconUri&&react_default.a.createElement("img",{alt:"provider-icon",className:"avatar",src:iconUri}),react_default.a.createElement("span",{style:inlineStyle},title)))};class SelectMenu_SelectMenu extends react_default.a.Component{constructor(props){super(props),this.state={isOpen:!1},this.selectDOMElementRef=null,this.setRef=element=>{this.selectDOMElementRef=element},this.mainCss=this.getMainCss(),this.optionsClassNameMap={true:"options-when-menu-open",false:"options"},this.selectedOptionClassNameMap={true:"selected-option-when-menu-open",false:"selected-option"},this.toggleIsOpen=this.toggleIsOpen.bind(this),this.handleClickOutside=this.handleClickOutside.bind(this),this.handleSelectedClick=this.handleSelectedClick.bind(this)}componentDidMount(){document.addEventListener("click",this.handleClickOutside,!1)}componentWillUnmount(){document.removeEventListener("click",this.handleClickOutside,!1)}getMainCss(){return styled_components_browser_esm.a.div`
        display: inline-block;
        position:relative;
        width: 149px;
        &:hover{
          cursor: pointer;
        }

        .options{
          box-shadow: 0 2px 2px 0 rgba(62, 62, 62, 0.08);
          border-radius: 14px;
          background-color: #fefefe;
            
          &-when-menu-open{
            box-shadow: 0 2px 2px 0 rgba(62, 62, 62, 0.08);
          width:100%;

          }
        }

        .selected-option{
          border-radius: 14px;
          border: solid 1px #e8e8e8;
          &-when-menu-open{
              border-radius:14px 14px 0 0 ;
              border: solid 1px #e8e8e8;
              border-bottom:none;
          }
        }

        .other-options{
            max-height:150px;
            overflow:auto;
            background-color: #fefefe;
            position: absolute;
            left:0;
            width:100%;
            border:solid 1px #e8e8e8;
            border-radius:0 0 14px 14px;
            box-shadow: 0 2px 2px 0 rgba(62, 62, 62, 0.08);
            & > * {
                &:not(:last-child){
                    border-bottom:solid 1px #e8e8e8;
            }

            &:hover{
                background-color: #f3f4f5;
            }
          }
        }

        svg.icon-menu {
            position: absolute;
            right: 13px;
            top: 11px;
            fill:  #e3e3e3;
            width: 10px;
            z-index: 1;
        }

      `}toggleIsOpen(){var isOpen=this.state.isOpen;this.setState({isOpen:!isOpen})}handleClickOutside(event){event.stopPropagation(),this.selectDOMElementRef.contains(event.target)||this.setState({isOpen:!1})}handleSelectedClick(e){e.stopPropagation(),this.toggleIsOpen()}renderMenuIcon(isPropsArray){return isPropsArray?react_default.a.createElement("svg",{className:"icon-menu",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 11 8"},react_default.a.createElement("path",{fillRule:"evenodd",d:"M5.5 8L0 0h11z"})):null}render(){var children=this.props.children,isPropsArray=Object(Utils.z)(children),selectedOption=isPropsArray?children[0]:children,selectedOptionStopPropagation=react_default.a.cloneElement(selectedOption,{onClick:this.handleSelectedClick}),CssWrapper=this.mainCss,isOpen=this.state.isOpen;return react_default.a.createElement("div",{ref:this.setRef,onClick:this.toggleIsOpen},react_default.a.createElement(CssWrapper,null,react_default.a.createElement("div",{className:this.selectedOptionClassNameMap[isOpen]},this.renderMenuIcon(isPropsArray),react_default.a.createElement("div",{className:this.optionsClassNameMap[isOpen]},selectedOptionStopPropagation),isPropsArray&&isOpen&&react_default.a.createElement("div",{className:"other-options"},children.slice(1)))))}}class QuickSearch_QuickSearch extends react_default.a.Component{constructor(props){super(props);var config=this.props.config;config.hide&&(this.render=()=>null),this.storageKey=`${config.id||"QuickSearch"}__userSelectedOption`,this.configurable={options:get_default()(this.props,"config.elements.options",[{id:"gmail",title:"Gmail",titleTextColor:"red",iconUri:"http://d2gbn9pgmbetx7.cloudfront.net/quick-mail/gmail-icon.png",searchUrl:"https://mail.google.com/mail/u/0/#search/{{searchTerms}}"}]),headerImageUrl:get_default()(this.props,"config.elements.headerImage.imageUrl"),headerTitleText:get_default()(this.props,"config.elements.headerTitle.textContent","Select Provider"),searchBoxPlaceholder:get_default()(this.props,"config.elements.searchBox.placeholderTextContent","Enter your keywords"),searchBoxTitle:get_default()(this.props,"config.elements.searchBoxTitle.textContent","Search inside your inbox"),submitButtonTextContent:get_default()(this.props,"config.elements.submitButton.textContent","Submit"),submitButtonBackgroundColor:get_default()(this.props,"config.elements.submitButton.backgroundColor","#f64d63"),submitButtonShadowColor:get_default()(this.props,"config.elements.submitButton.shadowColor","rgba(246, 77, 99, 0.41)"),submitButtonTextColor:get_default()(this.props,"config.elements.submitButton.textColor","white"),inlineStyle:get_default()(this.props,"config.style",{})},this.state={options:Object(Utils.d)(this.configurable.options),inputTerm:""};(()=>{var state=this.state,pref=ServiceFactory.a.get(Consts.Ib),selectedOptionIdFromStorage=pref.get(this.storageKey),selectedOptionExistsInOptions=state.options.some(option=>option.id===selectedOptionIdFromStorage);if(selectedOptionExistsInOptions||pref.set(this.storageKey,state.options[0].id),selectedOptionIdFromStorage&&selectedOptionExistsInOptions){var optionsNewOrder=this.moveItemToStart(state.options,option=>option.id===selectedOptionIdFromStorage);this.state.options=optionsNewOrder}})(),this._css=this.getMainCss(),this.onFormSubmit=this.onFormSubmit.bind(this),this.handleUserSelection=this.handleUserSelection.bind(this),this.transformOptionToJsx=this.transformOptionToJsx.bind(this),this.handleInputChange=this.handleInputChange.bind(this)}onFormSubmit(e){e.preventDefault();var state=this.state;if(state.inputTerm){var actionUrlFilled=this.actionUrl.replace(/{{searchTerms}}/gi,state.inputTerm),providerId=state.options[0].id;this.fireEvent(Consts.Pb,providerId),BrowserService.a.createTab({active:!0,url:actionUrlFilled})}}getMainCss(){return styled_components_browser_esm.a.div`
        @import url('https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700&display=swap');
        font-family: 'Open Sans', sans-serif;
        color: #a8a8a8;
        width: 100%;
        /* Layout */
        form {
          width: 296px;
          margin: 0 auto;
          .row {
            &_1 {
              margin: 16px 0;
              display: flex;
              justify-content: space-between;
              align-items: center;
              min-height: 29px;
            }
            &_2 {
              display: flex;
              flex-direction: column;
            }
            &_3 {
              margin: 10px 0;
             
            }
          }

          .loading{
            height:27px;
          }

          .row_2 span {
            margin-bottom: 7px;
            font-size: 13px;
            font-weight: 300;
          }
          .row_1  > span {
            font-size: 16px;
            font-weight: 300;
          }

          .submit-button {
            font-size: 13px;
            width: 102px;
            height: 29px;
            background-color: ${this.configurable.submitButtonBackgroundColor};
            border-radius: 14.5px;
            color: ${this.configurable.submitButtonTextColor};
            border: none;
            font-weight: 300;
            font-style: normal;
            font-stretch: normal;
            line-height: normal;
            letter-spacing: -0.22px;
            &:focus {
              outline: none;
            }
            &:hover {
              cursor: pointer;
            }
            box-shadow:${`0px 7px 9px -2px ${this.configurable.submitButtonShadowColor}`};
          }

          .input-container {
            display: flex;
            justify-content: space-between;
            padding: 5px 9px;
            max-height:29px;

            border-radius: 12px;
            border: solid 1px #dedede;
            input {
              width: 100%;
              border: none;
              background-color: transparent;
              &:focus {
                outline: none;
              }
              ::placeholder {
                color: #e3e3e3;
              }
            }
            svg.icon-search {
            fill: #dedede;
            width: 13px;
            }
          }

          img.header-image {
            width: 20px;
          }

        }

      `}get actionUrl(){return this.state.options[0].searchUrl}fireEvent(event,extra){ServiceFactory.a.get(Consts.oc).trackStatusEvent(event,extra)}handleUserSelection(option){var state=this.state,selectedOptionId=option.id;ServiceFactory.a.get(Consts.Ib).set(this.storageKey,selectedOptionId);var optionsNewOrder=this.moveItemToStart(state.options,opt=>opt.id===selectedOptionId);this.setState({options:optionsNewOrder},()=>this.fireEvent(Consts.Ob,selectedOptionId))}moveItemToStart(originalArray,callback){var array=originalArray,index=array.findIndex(callback),item=array.splice(index,1);return array.unshift(...item),array}handleInputChange(_ref){var target=_ref.target;this.setState({inputTerm:target.value.toString().trim()})}transformOptionToJsx(options){return options.map((option,index)=>{var id=index+option.title;return react_default.a.createElement(QuickSearch_SearchOption,{key:id,option:option,onClick:()=>this.handleUserSelection(option)})})}renderIconSearch(){return react_default.a.createElement("svg",{className:"icon-search",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 14"},react_default.a.createElement("path",{fillRule:"nonzero",d:"M12.802 12.744L9.654 9.281a5.83 5.83 0 0 0 1.253-3.632C10.907 2.534 8.512 0 5.567 0 2.625 0 .229 2.534.229 5.65c0 3.114 2.396 5.648 5.34 5.648a5.085 5.085 0 0 0 3.059-1.022l3.171 3.49a.673.673 0 0 0 .984.02.768.768 0 0 0 .02-1.042zM5.568 1.474c2.176 0 3.946 1.873 3.946 4.175 0 2.303-1.77 4.176-3.946 4.176S1.62 7.952 1.62 5.649c0-2.302 1.77-4.175 3.947-4.175z"}))}renderHeaderImage(){return this.configurable.headerImageUrl?react_default.a.createElement("img",{alt:"header",className:"header-image",src:this.configurable.headerImageUrl}):null}render(){var state=this.state,StyledQuickSearch=this._css;return react_default.a.createElement(StyledQuickSearch,{style:this.configurable.inlineStyle},react_default.a.createElement("form",{onSubmit:this.onFormSubmit},react_default.a.createElement("div",{className:"row_1"},this.renderHeaderImage(),react_default.a.createElement("span",null,this.configurable.headerTitleText),react_default.a.createElement(SelectMenu_SelectMenu,null,this.transformOptionToJsx(state.options))),react_default.a.createElement("div",{className:"row_2"},react_default.a.createElement("span",null,this.configurable.searchBoxTitle),react_default.a.createElement("div",{className:"input-container"},react_default.a.createElement("input",{onChange:this.handleInputChange,placeholder:this.configurable.searchBoxPlaceholder,type:"text",value:state.inputTerm}),this.renderIconSearch())),react_default.a.createElement("div",{className:"row_3"},react_default.a.createElement("input",{className:"submit-button",type:"submit",value:this.configurable.submitButtonTextContent}))))}}ComponentsFactory.a.add(()=>QuickSearch_QuickSearch,"QuickSearch");class FallbackComponent_FallbackComponent extends react.Component{constructor(props){super(props),ServiceFactory.a.get(Consts.oc).trackStatusEvent(Consts.R,"missing_component",props.config?props.config.type:"unknown")}render(){return null}}ComponentsFactory.a.add(()=>FallbackComponent_FallbackComponent,"FallbackComponent");var ConfigurationService=__webpack_require__(104);function client_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}__webpack_require__(594),localStorage.getItem("base")&&document.write(`<base href="${localStorage.getItem("base")}"/>`);var clientsEnvsConfiguration=Consts.mb,conf=ConfigurationService.a,hashObject=Object(Utils.gb)(window.location.hash,"-","_","#"),HtmlVarTag=document.getElementsByTagName("VAR")[0],client_env_=HtmlVarTag&&HtmlVarTag.getAttribute("env")?HtmlVarTag.getAttribute("env"):"client";"object"==typeof hashObject&&(hashObject[Consts.lb]?client_env_=hashObject[Consts.lb]:hashObject[Consts.lb.replace("_","")]&&(client_env_=hashObject[Consts.lb.replace("_","")])),HtmlVarTag&&HtmlVarTag.setAttribute("env",client_env_),conf.load("client").then(class GlobalService_GlobalService{static load(){return new Promise((resolve,reject)=>{window.global=Object(Utils.F)(window.global)?window.global:{},window.global.processSessionId=window.global.processSessionId||Object(index_esm.a)(),BrowserService.a.noAPIs()?resolve():BrowserService.a.getCurrentWindowInfo(win=>{window.global.windowId=win.id,BrowserService.a.getCurrentTabInfo(tab=>{window.global.tabId=tab?tab.id:"",resolve()})})})}}.load).then(()=>{var config=conf.getConfiguration();LoggerService.a.debug("Configuration loaded");var extensionComponentKeys=Object.keys(config.components),loadedApp=!1,childCount=0,envConfig={};if(config.clientsEnvsConfiguration=config.clientsEnvsConfiguration||{},clientsEnvsConfiguration=function client_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?client_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):client_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},clientsEnvsConfiguration,{},config.clientsEnvsConfiguration),client_env_&&clientsEnvsConfiguration[client_env_]){envConfig=clientsEnvsConfiguration[client_env_];for(var _loop=function _loop(i){var component=config.components[extensionComponentKeys[i]];if(component.type===envConfig.parentType){if(component.style)try{var body=document.getElementsByTagName("BODY")[0];Object.keys(component.style).forEach(key=>{body.style[key]=component.style[key]})}catch(e){}if(component.rootStyle)try{var root=document.getElementById("root");Object.keys(component.rootStyle).forEach(key=>{root.style[key]=component.rootStyle[key]})}catch(e){}for(var j=0;j<component.components.length;j++){var componentNewTab=component.components[j];if(componentNewTab.id===envConfig.mainWindowId){EventsService.a.on(Consts.ic,(function(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},pref=ServiceFactory.a.get(Consts.Ib);pref.reloadAll(args.key||!1)})),componentNewTab.components&&(childCount=componentNewTab.components.length);var App=ComponentsFactory.a.createComponent(componentNewTab.type);Object(react_dom.render)(react.createElement(App,{config:componentNewTab}),document.getElementById("root"))}else ServiceFactory.a.load(componentNewTab,client_env_)}loadedApp=!0}else component.type===Consts.x&&ServiceFactory.a.load(component,client_env_)},i=0;!loadedApp&&i<extensionComponentKeys.length;i++)_loop(i)}if(childCount||(loadedApp=!1),loadedApp){var event=envConfig.finishEvent||Consts.w;EventsService.a.trigger(event),LoggerService.a.debug("App bootstrapped")}else{LoggerService.a.debug("App failed to load"),LoggerService.a.track("error",`${client_env_}_comp_missing`);try{BrowserService.a.windowsGetAll(windowsArr=>{Array.isArray(windowsArr)&&(windowsArr.length>1?window.close():BrowserService.a.tabsQuery({currentWindow:!0},tabs=>{tabs&&(tabs.length>1?window.close():window.location.href="about:blank")}))})}catch(e){LoggerService.a.track("error",e.message)}}})}});